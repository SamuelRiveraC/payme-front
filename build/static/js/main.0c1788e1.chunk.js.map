{"version":3,"sources":["img/Money_transfer_1.png","img/Money_transfer_2.png","pages/Onboarding.js","img/PayME_logo.png","components/BackButton.js","components/MenuButton.js","components/NotificationButton.js","components/Header.js","components/Validation.js","pages/Login.js","pages/Register.js","components/Transaction.js","pages/Dashboard.js","pages/Settings.js","components/Notification.js","pages/Notifications.js","components/Loading.js","components/AutosuggestInput.js","components/SearchUser.js","components/SelectAmount.js","components/DB_otp.js","components/ErrorScreen.js","components/SuccessScreen.js","pages/Send.js","pages/Request.js","components/BankAccount.js","pages/Accounts.js","pages/Account.js","pages/AddAccount.js","pages/AuthAccount.js","pages/LinkUser.js","pages/LinkRequest.js","App.js","index.js"],"names":["Onboarding","className","dots","arrows","infinite","speed","slidesToShow","slidesToScroll","src","alt","Money_transfer_1","Money_transfer_2","to","BackButton","history","useHistory","onClick","goBack","size","icon","faChevronLeft","MenuButton","faBars","NotificationButton","notificationNumber","style","position","faBell","height","Header","children","back","menu","notification","Validation","enter","animation","duration","delay","leave","this","props","active","faExclamationCircle","React","Component","Login","setToken","useState","emailOrPhone","setUserName","password","setPassword","wrong","alerts","setAlerts","turnOffValidation","setTimeout","handleSubmit","e","a","preventDefault","axios","post","process","then","response","data","catch","error","onSubmit","type","onChange","target","value","href","Register","email","setEmail","phone","setPhone","first_name","setFirstName","last_name","setLastName","tos","setTos","duplicated","checked","Transaction","transaction","d","Date","updated_at","ye","Intl","DateTimeFormat","year","format","mo","month","da","day","transactionDate","user","JSON","parse","localStorage","getItem","id","sender","receiver","profile_picture","user_sender_id","amount","Dashboard","balance","Notifications","userAccounts","AllTransactions","bankAccounts","length","find","item","primary","notifications","filter","status","transactionsSent","transactionsReceived","sort","b","c","slice","map","index","Settings","logout","faChevronRight","display","justifyContent","width","margin","padding","lineHeight","color","navigator","clipboard","writeText","slug","Notification","notificationProp","setNotification","notificationDate","push","newNotification","put","headers","Authorization","token","alert","code","Loading","AutosuggestInput","getInfo","get","state","query","setState","results","selectUser","setUser","handleInputChange","search","placeholder","ref","input","r","SearchUsers","operation","setTransactionUser","userName","backStep","setTransactionAmount","setAmount","calculator","includes","isNaN","checkString","split","onKeyUp","key","faBackspace","DB_otp","iban","setOTP","ID","setID","authkey","setAuthKey","useEffect","targetIban","amountValue","amountCurrency","message","executeOTPMethod","stringify","patch","otp","ErrorScreen","tryAgain","SuccessScreen","account","borderRadius","cursor","Send","step","setStep","setError","PrimaryBank","bank","userAndTransactionData","setUserAndTransactionData","handleTransaction","parseFloat","user_receiver_id","console","log","Request","Accounts","alias","accounts","Account","expires_at","useParams","success","setSuccess","setAccount","setChecked","updateAccount","typeOfUpdate","getAccount","bic","delete","deleteAccount","AddAccount","setCode","provider","setProvider","banks","setBanks","createAccount","auth","warn","window","location","auth_url","consent_url","name","selected","disabled","i","bankDisplayName","URLSearchParams","useLocation","getAuth","LinkUser","parseInt","getUser","LinkRequest","AppContainer","path","App","handleLogin","date","now","setItem","pathname","userData","keys","clear","handleReload","TransitionGroup","CSSTransition","classNames","timeout","undefined","replace","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c1788e1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Money_transfer_1.e9c63204.png\";","export default __webpack_public_path__ + \"static/media/Money_transfer_2.bdd99fea.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Slider from \"react-slick\";\r\nimport '../slick.css';\r\n\r\nimport logo from \"../img/PayME_logo.png\"\r\nimport Money_transfer_1 from \"../img/Money_transfer_1.png\"\r\nimport Money_transfer_2 from \"../img/Money_transfer_2.png\"\r\n\r\nfunction Onboarding() {\r\n  const settings = {\r\n    dots: true,\r\n    arrows:false,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1\r\n  };\r\n\r\n  return <div className=\"container container-transparent\">\r\n\r\n    <div className=\"row mobile_row\">\r\n\r\n      <div className=\"col-12 mobile_col onboarding\">\r\n\r\n        <Slider {...settings}>\r\n          <div>\r\n            <img src={logo} alt=\"Logo\" />\r\n            <br/>\r\n            <h3>Easy payments for individuals and business</h3>\r\n          </div>\r\n          <div>\r\n            <h1>Send money to family and friends</h1>\r\n            <br/>\r\n            <img src={Money_transfer_1} alt=\"Logo\" />\r\n          </div>\r\n          <div>\r\n            <h1>Pay products and service</h1>\r\n            <br/>\r\n            <img src={Money_transfer_2} alt=\"Logo\" />\r\n          </div>\r\n        </Slider>\r\n          \r\n      </div>\r\n\r\n\r\n  \r\n\r\n\r\n      <div className=\"col-12 mobile_col text-center\">\r\n        <Link className=\"btn btn-light w-100 mb-3\" to=\"/register\">\r\n          Register\r\n        </Link>\r\n        <br />\r\n        <Link className=\"btn btn-link-dark w-100\" to=\"/login\">\r\n          Log In\r\n        </Link>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n}\r\n\r\nexport default Onboarding;\r\n","export default \"data:image/png;base64,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\"","import React from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function BackButton() {\r\n  let history = useHistory()\r\n  function handleClick() {\r\n    history.goBack() \r\n  }\r\n  return (\r\n    <button className=\"link\" onClick={handleClick}>\r\n\t\t<FontAwesomeIcon size=\"lg\" icon={faChevronLeft} />\r\n    </button>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function MenuButton() {\r\n\treturn \t<Link to=\"/settings\"> \r\n\t\t<FontAwesomeIcon size=\"lg\" icon={faBars} />\r\n\t</Link>\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBell } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function NotificationButton({notificationNumber}) {\r\n\treturn \t<Link to=\"/notifications\" style={{position:\"relative\"}}> \r\n        <FontAwesomeIcon size=\"lg\" icon={faBell} style={{height:60}}/>\r\n        {notificationNumber > 0 && <div className=\"notification__number\"> {notificationNumber} </div> }\r\n\t</Link>\r\n}\r\n","import React from 'react';\r\nimport BackButton from '../components/BackButton';\r\nimport MenuButton from '../components/MenuButton';\r\nimport NotificationButton from '../components/NotificationButton';\r\n\r\n\r\nexport default function Header({children, back, menu, notification, notificationNumber}) {\r\n\r\n  return(\r\n    <div className=\"col-12 mobile_col header\">\r\n      <div className=\"row\">\r\n        <div className=\"col-6\">\r\n        \t{ back && <BackButton /> }\r\n        \t{ notification && <NotificationButton notificationNumber={notificationNumber}/> }\r\n        </div>\r\n        <div className=\"col-6 text-right\">\r\n        \t{ menu && <MenuButton /> }\r\n        </div>\r\n\r\n        { children && <div className=\"col-12 mt-5 title\"> {children} </div> }\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport {VelocityTransitionGroup} from \"velocity-react\"\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faExclamationCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nexport default class Validation extends React.Component {\r\n  render() {\r\n    return (\r\n      <VelocityTransitionGroup enter={{animation: \"fadeIn\",duration:250,delay:250}} leave={{animation: \"fadeOut\",duration:250}} >\r\n      \t<div className=\"validation__error\">\r\n      \t\t{this.props.active &&  <div> <FontAwesomeIcon size=\"lg\" icon={faExclamationCircle} /> {this.props.children} </div>  }\r\n\t\t</div>\r\n\t  </VelocityTransitionGroup>\r\n    )\r\n  }\r\n}","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Header from '../components/Header';\r\nimport Validation from '../components/Validation';\r\n\r\n\r\nexport default function Login({ setToken }) {\r\n  const [emailOrPhone, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [alerts, setAlerts] = useState({wrong:false,emailOrPhone:false,password:false})\r\n\r\n  const turnOffValidation = () => {\r\n    setTimeout( () => { setAlerts({wrong:false,emailOrPhone:false,password:false}) }, 6250)\r\n  }\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    if (!emailOrPhone || !password) {\r\n      setAlerts({wrong:false,emailOrPhone:!emailOrPhone?true:false,password:!password?true:false})\r\n      turnOffValidation()\r\n      return false;\r\n    }\r\n\r\n    axios.post(process.env.REACT_APP_API_URL+\"login\", { emailOrPhone, password } )\r\n    .then((response) => {\r\n      setToken(response.data);\r\n    })\r\n    .catch((error) => {\r\n      setAlerts( { wrong:true, emailOrPhone:false, password:false })\r\n      turnOffValidation()\r\n    });\r\n\r\n  }\r\n\r\n  return(\r\n    <div className=\"container\">\r\n\r\n\r\n      <form className=\"row mobile_row\" onSubmit={handleSubmit}>\r\n\r\n        <Header back> Log in PayMe </Header>\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <Validation active={alerts.wrong}> The Email, phone or password are incorrect  </Validation> <br/>\r\n            \r\n\r\n          <div className=\"form-outline\">\r\n            <label className=\"form-label\" >Email or Phone</label>\r\n            <input type=\"text\" className=\"form-control\" onChange={e => setUserName(e.target.value)} />\r\n            <Validation active={alerts.emailOrPhone}> A phone number or email is required </Validation>\r\n          </div>\r\n          <div className=\"form-outline\">\r\n            <label className=\"form-label\" >Password</label>\r\n            <input type=\"password\" className=\"form-control\" onChange={e => setPassword(e.target.value)} />\r\n            <Validation active={alerts.password}> The password is required </Validation>\r\n          </div>\r\n          <div className=\"form-outline\">\r\n            <a className=\"w-100 py-3\" href=\"#\">I Forgot my Password</a>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          <button className=\"btn btn-primary w-100 mb-3\" type=\"submit\">Log In</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Header from '../components/Header';\r\nimport Validation from '../components/Validation';\r\n\r\n\r\nexport default function Register({ setToken }) {\r\n  const [password, setPassword] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [phone, setPhone] = useState();\r\n  const [first_name, setFirstName] = useState();\r\n  const [last_name, setLastName] = useState();\r\n  const [tos, setTos] = useState();\r\n  const [alerts, setAlerts] = useState({}) //useState({duplicated:false,password:false,email:false,phone:false,first_name:false,last_name:false, tos:false})\r\n\r\n  const turnOffValidation = () => {\r\n    setTimeout( () => { setAlerts({duplicated:false,password:false,email:false,phone:false,first_name:false,last_name:false, tos:false}) }, 6250)\r\n  }\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    if (!password || !email || !phone || !first_name || !last_name || !tos) {\r\n      setAlerts({password:!password?true:false,email:!email?true:false,phone:!phone?true:false,first_name:!first_name?true:false,last_name:!last_name?true:false,tos:!tos?true:false})\r\n      turnOffValidation()\r\n      return false;\r\n    }\r\n\r\n    axios.post(process.env.REACT_APP_API_URL+\"users\", { password, email, phone, first_name, last_name } )\r\n    .then((response) => {\r\n      setToken(response.data);\r\n    })\r\n    .catch((error) => {\r\n      setAlerts( { duplicated:true })\r\n      turnOffValidation()\r\n    });\r\n\r\n  }\r\n\r\n  return(\r\n    <div className=\"container\">\r\n\r\n      <form className=\"row mobile_row\" onSubmit={handleSubmit}>\r\n\r\n        <Header back> Register in PayMe </Header>\r\n\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <Validation active={alerts.duplicated}> The Account already exists  </Validation> <br/>\r\n\r\n        \t<div className=\"form-outline \">\r\n            <label className=\"form-label\" >First name</label>\r\n            <input type=\"text\" className=\"form-control\" onChange={e => setFirstName(e.target.value)} />\r\n            <Validation active={alerts.first_name}> The first name is required  </Validation>\r\n          </div>\r\n          <div className=\"form-outline \">\r\n            <label className=\"form-label\" >Last name</label>\r\n            <input type=\"text\" className=\"form-control\" onChange={e => setLastName(e.target.value)} />\r\n            <Validation active={alerts.last_name}> The last name is required  </Validation>\r\n          </div>\r\n          <div className=\"form-outline \">\r\n            <label className=\"form-label\" >Email</label>\r\n            <input type=\"email\" className=\"form-control\" onChange={e => setEmail(e.target.value)} />\r\n            <Validation active={alerts.email}> The email is required  </Validation>\r\n          </div>\r\n          <div className=\"form-outline \">\r\n            <label className=\"form-label\" >Phone</label>\r\n            <input type=\"phone\" className=\"form-control\" onChange={e => setPhone(e.target.value)} />\r\n            <Validation active={alerts.phone}> The phone number is required  </Validation>\r\n          </div>\r\n          <div className=\"form-outline \">\r\n            <label className=\"form-label\" >Password</label>\r\n            <input type=\"password\" className=\"form-control\" onChange={e => setPassword(e.target.value)} />\r\n            <Validation active={alerts.password}> The password is required  </Validation>\r\n          </div>\r\n          <div className=\"form-check \">\r\n            <input className=\"form-check-input\" type=\"checkbox\" onChange={e => setTos(e.target.checked)} />\r\n            <label className=\"form-check-label\" >\r\n              I Accept the Privacy policy and the Terms of Use\r\n            </label>\r\n            <br/>\r\n            <Validation active={alerts.tos}> You are required to accept our ToS  </Validation>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <button className=\"btn btn-primary w-100 \" type=\"submit\">Register</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React from 'react'\r\n\r\nexport default function Transaction({transaction}) {\r\n\r\n    const d = new Date(transaction.updated_at);\r\n    const ye = new Intl.DateTimeFormat('en', { year: 'numeric' }).format(d);\r\n    const mo = new Intl.DateTimeFormat('en', { month: 'short' }).format(d);\r\n    const da = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(d);\r\n    const transactionDate = `${da}-${mo}-${ye}`\r\n    const user = JSON.parse(localStorage.getItem('user')).user;\r\n\r\n  return (  \r\n    <li className=\"row\">\r\n    \t<div className=\"col-2 text-left image\">\r\n            {user.id === transaction.sender.id   && <img src={transaction.receiver.profile_picture  } height={60} alt=\"transaction\" />}\r\n            {user.id === transaction.receiver.id && <img src={transaction.sender.profile_picture} height={60} alt=\"transaction\" />}\r\n    \t</div>\r\n    \t<div className=\"col-6 text-left information\">\r\n            {user.id === transaction.sender.id   && <b> {transaction.receiver.first_name} {transaction.receiver.last_name} </b> }\r\n\t\t\t{user.id === transaction.receiver.id && <b> {transaction.sender.first_name} {transaction.sender.last_name} </b> }\r\n            <br /> <small> {transactionDate} </small>\r\n    \t</div>\r\n    \t<div className=\"col-4 text-right amount\">\r\n\t\t\t{user.id === transaction.user_sender_id && \"-\"} {transaction.amount}€\t\r\n    \t</div>\r\n    </li>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\nimport Transaction from '../components/Transaction';\r\n\r\nexport default function Dashboard({user}) {\r\n\r\n  let balance, userAccounts = 0\r\n  let Notifications, AllTransactions = []\r\n\r\n  if (user.bankAccounts)\r\n    userAccounts = user.bankAccounts.length\r\n    balance = user.bankAccounts.find(item => item.primary === \"true\")?.balance;\r\n\r\n  if (user.notifications)\r\n    Notifications = user.notifications.filter(function(item) { return item.status === 0; });\r\n\r\n  if (user.transactionsSent && user.transactionsReceived)\r\n    AllTransactions = [...user.transactionsSent,...user.transactionsReceived]\r\n\r\n  AllTransactions = AllTransactions.sort( function(a,b) { \r\n      let c = new Date(a.updated_at);\r\n      let d = new Date(b.updated_at);\r\n      return d-c; \r\n    } ).slice(0, 10);    \r\n\r\n  return <div className=\"container\">\r\n    <div className=\"row mobile_row\">\r\n\r\n      <div className=\"row dashboard\">\r\n\r\n        <Header notification notificationNumber={Notifications.length} menu/>\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          \r\n          { (balance || balance == 0) && <h1> <small>Available Balance</small> <br /> <b>{balance}€</b> <br /> <br /> </h1> }\r\n\r\n          { (!balance && balance != 0 && userAccounts == 0) && \r\n            <h1> \r\n              <Link to=\"/add-account\">\r\n                Upload a bank account to start\r\n              </Link>\r\n            </h1>\r\n           }\r\n\r\n          { (!balance && balance != 0 && userAccounts > 0) && \r\n            <h3> \r\n              <Link to=\"/add-account\">\r\n                Change one account to primary, so it can be used for payments and requests\r\n              </Link>\r\n            </h3>\r\n           }\r\n\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div className=\"col-12 mobile_col text-center transactions\">\r\n        <p>Recent Activity</p>  \r\n        <ul>\r\n          { AllTransactions.map( (item,index) => {\r\n            return <Transaction key={index} transaction={item} />\r\n          } ) }\r\n        </ul>      \r\n      </div>\r\n\r\n      <div className=\"col-12 mobile_col text-center\">\r\n        <Link className=\"btn btn-primary w-100 mb-3\" to=\"/send-payment\">\r\n          Send payment\r\n        </Link>\r\n        <br />\r\n        <Link className=\"btn btn-outline-primary w-100 mb-3\" to=\"/request-payment\" >\r\n          Request payment\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport QRCode from 'qrcode.react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport Header from '../components/Header';\r\n\r\nfunction Settings({logout, user}) {\r\n\r\n  return <div className=\"container\">\r\n      <div className=\"row mobile_row\">\r\n\r\n        <Header back>\r\n          <div className=\"profile\">\r\n            <img src={user.profile_picture} alt=\"profile\" /> { `${user.first_name} ${user.last_name}` }\r\n          </div>\r\n        </Header>\r\n\r\n        \r\n        <div className=\"col-12 mobile_col\">\r\n          <ul className=\"settings\">\r\n            <li> \r\n              <Link to=\"/accounts\">\r\n                My accounts <FontAwesomeIcon size=\"lg\" icon={faChevronRight} />\r\n              </Link>\r\n            </li>\r\n            <li> \r\n              <Link to=\"/add-account\">\r\n                Add account <FontAwesomeIcon size=\"lg\" icon={faChevronRight} />\r\n              </Link>\r\n            </li>\r\n            <li> \r\n              <Link to=\"/settings\">\r\n                Support <FontAwesomeIcon size=\"lg\" icon={faChevronRight} />\r\n              </Link>\r\n            </li>\r\n            <li> \r\n              <Link to=\"/settings\">\r\n                Legal <FontAwesomeIcon size=\"lg\" icon={faChevronRight} />\r\n              </Link>\r\n            </li>\r\n            <li> \r\n              <Link to=\"/settings\">\r\n                Invite Friends <FontAwesomeIcon size=\"lg\" icon={faChevronRight} />\r\n              </Link>\r\n            </li>\r\n            <li> \r\n              <button className=\"link\" onClick={ logout } style={{\r\n                display: \"flex\", justifyContent: \"space-between\", \r\n                width: \"100%\", height: \"60px\", \r\n                margin: 0, padding: 0,\r\n                lineHeight: \"60px\", \r\n                color: \"#29363D\"\r\n              }}> \r\n                Logout <FontAwesomeIcon size=\"lg\" icon={faChevronRight} />\r\n              </button>\r\n            </li>\r\n          </ul>      \r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col text-center\" \r\n          onClick={() => {navigator.clipboard.writeText(`${process.env.REACT_APP_APP_URL}user/${user.slug}`)}} > \r\n\r\n          <a href={`${process.env.REACT_APP_APP_URL}user/${user.slug}`}>\r\n            {`${process.env.REACT_APP_APP_URL}user/${user.slug}`}\r\n          </a>\r\n\r\n          <br/> <br/>\r\n\r\n          <QRCode value={`${process.env.REACT_APP_APP_URL}user/${user.slug}`} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n}\r\n\r\nexport default Settings;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\"\r\nimport axios from 'axios' \r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function Notification({notificationProp}) {\r\n  const [notification, setNotification] = useState(notificationProp);\r\n\r\n  const d = new Date(notification.updated_at);\r\n  const ye = new Intl.DateTimeFormat('en', { year: 'numeric' }).format(d);\r\n  const mo = new Intl.DateTimeFormat('en', { month: 'short' }).format(d);\r\n  const da = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(d);\r\n  const notificationDate = `${da}-${mo}-${ye}`\r\n\r\n  let history = useHistory();\r\n\r\n  const read = () => {\r\n    if (notification.type === 0 && notification.status === 0) {\r\n      history.push(\"/request/\"+notification.id)\r\n      return true\r\n    }\r\n\r\n    if (notification.status === 0) {\r\n      let newNotification ={ ...notification}\r\n      newNotification.status = newNotification.status === 0 ? 1 : 0\r\n      \r\n      axios.put( process.env.REACT_APP_API_URL+\"notifications/\"+notification.id, \r\n        {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }},\r\n        {status: notification.status}\r\n      )\r\n      .then(({ data }) => {\r\n        setNotification(newNotification)\r\n      })\r\n      .catch((error) => {\r\n        alert(error.response.data.code)\r\n      });      \r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n\r\n      <button onClick={read} className={notification.status === 0 ? \"link row notification unread\" : \"link row notification\"}>\r\n\r\n        <div className=\"col-10 text-left\">\r\n\t        {notification.type === 0 && \r\n            <b> {notification.transaction.receiver.first_name} {notification.transaction.receiver.last_name} has requested a payment for {notification.transaction.amount}€ </b>}\r\n\t        {notification.type === 1 && \r\n            <b> You have received {notification.transaction.amount}€ from {notification.transaction.sender.first_name} {notification.transaction.sender.last_name} </b>}\r\n\t        <br />\r\n\t        <small> {notificationDate} </small>\r\n        </div>\r\n        <div className=\"col-2 text-right\">\r\n\t        <FontAwesomeIcon size=\"lg\" icon={faChevronRight} />\r\n        </div>\r\n\r\n      </button>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Header from '../components/Header';\r\nimport Notification from '../components/Notification';\r\n\r\nexport default function Notifications({user}) {\r\n  \r\n  //SHOULD BE LOADED ASYNC => NOTIFICATIONS\r\n\r\n  const notifications = user.notifications.sort(function(a, b) {\r\n    return a.status - b.status;\r\n  }).sort( function(a,b) { \r\n    let c = new Date(a.updated_at);\r\n    let d = new Date(b.updated_at);\r\n    return d-c; \r\n  } )\r\n\r\n\r\n  return <div className=\"container\">\r\n      <div className=\"row mobile_row\">\r\n\r\n        <Header back>\r\n          Notifications\r\n        </Header>\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <ul className=\"notification\">\r\n            { notifications.map( (item,index) => {\r\n              return <Notification key={index} notificationProp={item} />\r\n            } ) }\r\n          </ul>      \r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n      \t\t<br/>\r\n      \t</div>\r\n\r\n      </div>\r\n    </div>\r\n}","import React from 'react';\r\nimport '../loaderstyles.css';\r\n\r\nexport default function Loading() {\r\n\r\n  return(\r\n    <div className=\"container container-transparent\">\r\n      <div className=\"row mobile_row\">\r\n\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          <div className=\"ct-loader style1\">\r\n            <div className=\"loading-spin\">\r\n            \t<div className=\"spinner\">\r\n            \t    <div className=\"right-side\"><div className=\"bar\"></div></div>\r\n            \t    <div className=\"left-side\"><div className=\"bar\"></div></div>\r\n            \t</div>\r\n            \t<div className=\"spinner color-2\">\r\n            \t    <div className=\"right-side\"><div className=\"bar\"></div></div>\r\n            \t    <div className=\"left-side\"><div className=\"bar\"></div></div>\r\n            \t</div>\r\n      \t\t\t\r\n       \t\t</div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport {VelocityTransitionGroup} from \"velocity-react\"\r\n\r\nexport default class AutosuggestInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      query: this.props.value,\r\n      results: []\r\n    }\r\n  }\r\n\r\n  getInfo = async e => {\r\n    axios.get(process.env.REACT_APP_API_URL+\"users/search/\"+this.state.query)\r\n    .then(({ data }) => {\r\n      this.setState({ results: data })\r\n    })\r\n  }\r\n\r\n  selectUser = (user) => {\r\n    this.setState({ results:[] }) // query:selected\r\n\r\n    this.props.setUser(user) // THE CONTINUE BUTTON \r\n  }\r\n\r\n  handleInputChange = () => {\r\n    this.setState({\r\n      query: this.search.value\r\n    }, () => {\r\n      if (this.state.query && this.state.query.length > 3) { \r\n        if (this.state.query.length % 2 === 0) {\r\n          this.getInfo()\r\n        }\r\n      } else if (!this.state.query) { }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"AutosuggestInput__container\">\r\n        <input\r\n          className=\"form-control\"\r\n          placeholder=\"Email or Phone number\"\r\n          ref={input => this.search = input}\r\n          onChange={() => this.handleInputChange() }\r\n        />\r\n\r\n        <ul className=\"AutosuggestInput\">\r\n        \r\n        <VelocityTransitionGroup enter={{animation: \"slideDown\",duration:250,delay:300}} leave={{animation: \"slideUp\",duration:250}} >\r\n\r\n          { this.state.results.map(r => (\r\n            <li key={r.id} onClick={() => this.selectUser(r)}>\r\n              <b>{r.first_name} {r.last_name}</b> <br/> {r.email}\r\n            </li>\r\n          ))}\r\n\r\n        </VelocityTransitionGroup>\r\n\r\n        </ul>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport BackButton from '../components/BackButton';\r\nimport Validation from '../components/Validation';\r\nimport AutosuggestInput from '../components/AutosuggestInput';\r\n\r\nexport default function SearchUsers({operation,setTransactionUser}) {\r\n  return(\r\n    <div className=\"container\">\r\n      <div className=\"row mobile_row\">\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              <BackButton /> \r\n            </div>\r\n            <div className=\"col-12 mt-5 mobile_col title d-flex justify-content-between\">\r\n              {operation} Payment\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <div className=\"form-outline mb-3\">\r\n            <label className=\"form-label\" > Search User by Email or Phone number </label>\r\n            <AutosuggestInput setUser={ setTransactionUser }  />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <br/>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n","import React, { useState } from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronLeft, faBackspace } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function SearchUsers( {userName,backStep,operation,setTransactionAmount} ) {\r\n  const [amount, setAmount] = useState(\"\");\r\n\r\n  const calculator = (input) =>{\r\n\r\n      if ( input === \"X\" || input === \"x\" || input === \"\" || input === \"Backspace\") {\r\n        setAmount( amount.slice(0, -1) )\r\n      } else if (input === \".\") {\r\n        if (!amount.includes(\".\") ) {\r\n          setAmount(amount+\".\")\r\n        } \r\n      } else if (input !== \" \" && !isNaN(input)) {\r\n\r\n        let checkString = amount.split(\".\")\r\n\r\n        if (checkString.length !== 1 ) {\r\n          if (checkString[1].length <= 1) {\r\n            setAmount(amount + input)\r\n          }\r\n        } else {\r\n          setAmount(amount + input)\r\n        }\r\n      }\r\n  }\r\n\r\n  const handleTransaction = () => {\r\n    setTransactionAmount(amount)\r\n  }\r\n\r\n\r\n  return(\r\n    <div className=\"container\">\r\n      <div className=\"row mobile_row\">\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              { backStep ? <button className=\"link\" onClick={backStep}>\r\n                <FontAwesomeIcon size=\"lg\" icon={faChevronLeft} />\r\n              </button> : <Link to=\"/\">\r\n                <FontAwesomeIcon size=\"lg\" icon={faChevronLeft} />\r\n              </Link>\r\n              }\r\n            </div>\r\n            <div className=\"col-6 mt-5 mobile_col title d-flex justify-content-between\">\r\n              <span> Select Amount </span>\r\n              <small> {userName} </small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col calculator\">\r\n          <div className=\"form-outline mb-3\">\r\n            <input type=\"text\" className=\"form-control\" value = {amount} onKeyUp={e => calculator(e.key)} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col calculator\">\r\n          <div className=\"button\" onClick={() => calculator(\"1\") }>1</div>\r\n          <div className=\"button\" onClick={() => calculator(\"2\") }>2</div>\r\n          <div className=\"button\" onClick={() => calculator(\"3\") }>3</div>\r\n          <div className=\"button\" onClick={() => calculator(\"4\") }>4</div>\r\n          <div className=\"button\" onClick={() => calculator(\"5\") }>5</div>\r\n          <div className=\"button\" onClick={() => calculator(\"6\") }>6</div>\r\n          <div className=\"button\" onClick={() => calculator(\"7\") }>7</div>\r\n          <div className=\"button\" onClick={() => calculator(\"8\") }>8</div>\r\n          <div className=\"button\" onClick={() => calculator(\"9\") }>9</div>\r\n          <div className=\"button\" onClick={() => calculator(\".\") }>.</div>\r\n          <div className=\"button\" onClick={() => calculator(\"0\") }>0</div>\r\n          <div className=\"button\" onClick={() => calculator(\"X\") }><FontAwesomeIcon size=\"lg\" icon={faBackspace} /></div>\r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col \">\r\n          <button className=\"btn btn-primary w-100 mb-3\" onClick={handleTransaction}>\r\n            {operation} payment\r\n          </button>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronLeft, faBackspace } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function DB_otp({iban,amount,setOTP,backStep}) {\r\n\tconst [ID, setID] = useState();\r\n\tconst [authkey, setAuthKey] = useState();\r\n\r\n  const executeOTPMethod = () => {\r\n\r\n    axios.get( process.env.REACT_APP_API_URL+\"access_token/\",\r\n      {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }}\r\n    ).then( (response) => {\r\n        let key = response.data\r\n        if (!key) {\r\n         \t\talert(\"No Key\")\r\n         \t\treturn false\r\n         \t}\r\n        \taxios.post( \"https://simulator-api.db.com:443/gw/dbapi/others/onetimepasswords/v2/single\",\r\n          {\r\n            \"method\": \"PHOTOTAN\",\r\n            \"requestType\": \"INSTANT_SEPA_CREDIT_TRANSFERS\",\r\n            \"requestData\": {\r\n        \t\ttype:\"challengeRequestDataInstantSepaCreditTransfers\",\r\n        \t\ttargetIban: iban,\r\n            \tamountValue: amount,\r\n            \tamountCurrency: \"EUR\",\r\n            }\r\n          },\r\n            {headers: { Authorization: `Bearer ${key}` }}\r\n          ).then( (response) => {\r\n            setID(response.data.id)\r\n          })\r\n          .catch((error) => {\r\n          \talert(error.response.message+\" - Please add again your DeutscheBank account - It needs to Refresh Token\")\r\n          });\r\n    }).catch((error) => { alert(error.response) });\r\n  }\r\n  const answerOTPMethod = () => {\r\n     \r\n     axios.get( process.env.REACT_APP_API_URL+\"access_token/\",\r\n      {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }}\r\n    ).then( (response) => {\r\n        let key = response.data\r\n\r\n        if (!key) {\r\n   \t    \talert(\"No Key\")\r\n   \t    \treturn false\r\n   \t    }\r\n  \t    axios.patch( \"https://simulator-api.db.com:443/gw/dbapi/others/onetimepasswords/v2/single/\"+ID,\r\n        { \"response\": authkey },\r\n          {headers: { Authorization: `Bearer ${key}` }}\r\n        ).then( (response) => {\r\n          setOTP(response.data.otp)\r\n        })\r\n        .catch((error) => {\r\n        \talert(error.response.status)\r\n        });\r\n    }).catch((error) => { alert(error.response) });\r\n  }\r\n\r\n  useEffect(() => executeOTPMethod(), [])\r\n\r\n\r\n  return     <div className=\"container\">\r\n      <div className=\"row mobile_row\">\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              { backStep ? <button className=\"link\" onClick={backStep}>\r\n                <FontAwesomeIcon size=\"lg\" icon={faChevronLeft} />\r\n              </button> : <Link to=\"/\">\r\n                <FontAwesomeIcon size=\"lg\" icon={faChevronLeft} />\r\n              </Link>\r\n              }\r\n            </div>\r\n            <div className=\"col-6 mt-5 mobile_col title d-flex justify-content-between\">\r\n              <span> Authorize the transaction  {JSON.stringify(ID)} </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <div className=\"form-outline mb-3\">\r\n          \t<label> Insert the authorization code at your Authy app</label>\r\n            <input type=\"text\" className=\"form-control\" onChange={e => setAuthKey(e.target.value)} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col \">\r\n          <button className=\"btn btn-primary w-100 mb-3\" onClick={answerOTPMethod}>\r\n            Authorize transaction\r\n          </button>\r\n        </div>\r\n\r\n      </div>\r\n\t</div>\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErrorScreen({error, tryAgain}) {\r\n  const getError = () => {\r\n    if (error === \"E_ROW_NOT_FOUND\")\r\n      return \"This item aws not found\"\r\n    else if (error === \"E_ROW_SAME_USER\")\r\n      return \"You can send a transaction or request to yourself\"\r\n    else if (error === \"E_TRANSACTION_PAID\")\r\n      return \"This transaction has been already paid\"\r\n    else if (error === \"E_TRANSACTION_CANCELLED\")\r\n      return \"This transaction was cancelled\"\r\n    else if (error === \"E_SENDER_NO_BANK_ACCOUNT\")\r\n      return \"Sender has no a connected bank account\"\r\n    else if (error === \"E_RECEIVER_NO_BANK_ACCOUNT\")\r\n      return \"Receiver has no a connected bank account\"\r\n    else if (error === \"E_INSUFFICIENT_FUNDS\")\r\n      return \"Insufficient funds to make this transaction\"\r\n    else if (error === \"E_USER_WRONG_TRANSACTION_ID\")\r\n      return \"You have no access to this transaction\"\r\n    else\r\n      return error\r\n  }\r\n  return(\r\n    <div className=\"container\">\r\n      <div className=\"row mobile_row\">\r\n\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          <h1 className=\"validation__error mb-5\">\r\n            { getError() } \r\n          </h1>\r\n\r\n          <Link className=\"btn btn-outline-primary w-100 mt-5\" to=\"/\">\r\n            Go to Main Menu\r\n          </Link>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport QRCode from 'qrcode.react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function SuccessScreen({operation, data, account}) {\r\n\r\n  return(\r\n    <div className=\"container container-transparent\">\r\n      \r\n      { !account && <div className=\"row mobile_row\">\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          <h1> {data.amount} {operation} to {data.userName}</h1>  \r\n        </div>\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          <img src={data.profile_picture} alt=\"profile_picture\" style={{height:160,borderRadius:\"100%\"}}/>\r\n        </div>\r\n        { data.id && <div className=\"col-12 mobile_col text-center\" style={{cursor:\"pointer\"}} \r\n          onClick={() => {navigator.clipboard.writeText(`${process.env.REACT_APP_APP_URL}request/${data.id}`)}}>\r\n          \r\n\r\n\r\n          <p> Share with {data.userName} the link or QR code </p>\r\n      \r\n          <p> <b> {`${process.env.REACT_APP_APP_URL}request/${data.id}`} </b> </p>\r\n      \r\n          <QRCode value={`${process.env.REACT_APP_APP_URL}request/${data.id}`} />\r\n      \r\n        </div> }\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          <Link className=\"btn btn-light w-100 mb-3\" to=\"/\">\r\n            Main Menu\r\n          </Link>\r\n        </div>\r\n      </div>}\r\n      { account && \r\n      <div className=\"row mobile_row\">\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          <h1> {account}</h1>  \r\n        </div>\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          <Link className=\"btn btn-light w-100 mb-3\" to=\"/\">\r\n            Main Menu\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      }\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Loading from '../components/Loading';\r\nimport SearchUser from '../components/SearchUser';\r\nimport SelectAmount from '../components/SelectAmount';\r\nimport DBOTP from '../components/DB_otp';\r\n\r\nimport ErrorScreen from '../components/ErrorScreen';\r\nimport SuccessScreen from '../components/SuccessScreen';\r\nimport {VelocityTransitionGroup} from \"velocity-react\"\r\n\r\nexport default function Send() {\r\n  const [step, setStep] = useState(1);\r\n  const [user, setUser] = useState(0);\r\n  const [amount, setAmount] = useState(0);\r\n  const [error, setError] = useState(\"\");\r\n  const [otp, setOTP] = useState(\"\");\r\n  \r\n  let PrimaryBank = JSON.parse(localStorage.getItem('user')).user.bankAccounts.find(item => item.primary === \"true\")?.bank\r\n\r\n  const [userAndTransactionData, setUserAndTransactionData] = useState({ userName: \"\", amount: \"\", profile_picture: \"\" })\r\n\r\n  const backStep = () => {\r\n  \tif (step>1)\r\n      setStep(step-1)\r\n  }\r\n  const handleTransaction = (value) => {\r\n  \tif (step === 1) {\r\n\t  \tsetUser(value)\r\n      setStep(2)\r\n  \t\r\n    } else if (step === 2) {\r\n      if (value <= 0 ) {\r\n        return false\r\n      }\r\n      value = parseFloat(value)\r\n\t  \tsetAmount(value)\r\n\r\n      if (PrimaryBank === \"deutschebank\") {\r\n        setStep(3)\r\n      } else {\r\n        setStep(0)\r\n        axios.post( process.env.REACT_APP_API_URL+\"transactions/\", {\r\n            user_receiver_id: user.id,\r\n            amount: value,\r\n            bank: PrimaryBank,\r\n            otp: \"\",\r\n          },\r\n            {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }},\r\n          ).then( (response) => {\r\n            setUserAndTransactionData({\r\n              userName: `${response.data.receiver.first_name} ${response.data.receiver.last_name}`,\r\n              profile_picture:response.data.receiver.profile_picture,\r\n              amount: `${response.data.amount}€`,\r\n            })\r\n            setStep(4)\r\n          }).catch((error) => { setStep(-1); setError(error.response.data.code) });\r\n      }\r\n    \r\n    } else if (step === 3) {\r\n      setStep(0)\r\n      axios.post( process.env.REACT_APP_API_URL+\"transactions/\", {\r\n          user_receiver_id: user.id,\r\n          amount: amount,\r\n          bank: PrimaryBank,\r\n          otp: value,\r\n        },\r\n        {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }},\r\n      )\r\n      .then( (response) => {\r\n        if (response.status === 200 || response.status === 201) {\r\n          setUserAndTransactionData({\r\n            userName: `${response.data.receiver.first_name} ${response.data.receiver.last_name}`,\r\n            profile_picture:response.data.receiver.profile_picture,\r\n            amount: `${response.data.amount}€`,\r\n            // id: response.data.id\r\n          })\r\n          setStep(4)\r\n        } else {\r\n          setStep(-1)\r\n          console.log(\"Error\")\r\n          setError(\"Error\")\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setStep(-1)\r\n        console.log(JSON.stringify(error.response.status))\r\n        setError(JSON.stringify(error.response.status))\r\n      });\r\n  \t}\r\n  }\r\n\r\n\r\n\r\n\r\n  return <div>\r\n    <VelocityTransitionGroup enter={{animation: (step === 3 || step === 0 || step === -1) ? \"fadeIn\" : \"slideDown\",duration:500,delay:600}} leave={{animation: \"slideUp\",duration:500}} >\r\n    { (step === -1) && <ErrorScreen error={error} />}\r\n    { (step === 0)  && <Loading />}\r\n  \t{ (step === 1)  && <SearchUser \t operation=\"Send\" setTransactionUser={ handleTransaction }/>}\r\n  \t{ (step === 2)  && <SelectAmount operation=\"Send\" userName={`${user.first_name} ${user.last_name}`} backStep={ backStep } setTransactionAmount={ handleTransaction }/>}\r\n    { (step === 3)  && <DBOTP iban={user.bankAccounts[0].iban} amount={amount} setOTP={handleTransaction} backStep={ backStep }/>}\r\n  \t{ (step === 4)  && <SuccessScreen operation=\"sent\" data={userAndTransactionData}/>}\r\n    </VelocityTransitionGroup>\r\n  </div>\r\n}\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Loading from '../components/Loading';\r\nimport SearchUser from '../components/SearchUser';\r\nimport SelectAmount from '../components/SelectAmount';\r\nimport ErrorScreen from '../components/ErrorScreen';\r\nimport SuccessScreen from '../components/SuccessScreen';\r\nimport {VelocityTransitionGroup} from \"velocity-react\"\r\n\r\nexport default function Request() {\r\n  const [step, setStep] = useState(1);\r\n  const [user, setUser] = useState(0);\r\n  const [amount, setAmount] = useState(0);\r\n  const [error, setError] = useState(0);\r\n\r\n  const [userAndTransactionData, setUserAndTransactionData] = useState({ userName: \"\", amount: \"\", profile_picture: \"\" })\r\n\r\n  const backStep = () => {\r\n    if (step>1)\r\n      setStep(step-1)\r\n  }\r\n  const handleTransaction = (value) => {\r\n  \tif (step === 1) {\r\n      setUser(value)\r\n      setStep(2)\r\n    } else if (step === 2) {\r\n      if (value <= 0 ) {\r\n        return false\r\n      }\r\n      value = parseFloat(value)\r\n      setAmount(value)\r\n      setStep(0)\r\n\r\n      axios.post( process.env.REACT_APP_API_URL+\"transactions/\", {\r\n          user_sender_id: user.id,\r\n          amount: value\r\n        },\r\n        {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }},\r\n      )\r\n      .then( (response) => {\r\n        setUserAndTransactionData({\r\n          userName: `${response.data.sender.first_name} ${response.data.sender.last_name}`,\r\n          profile_picture:response.data.sender.profile_picture,\r\n          amount: `${response.data.amount}€`,\r\n          id: response.data.id\r\n        })\r\n        setStep(3)\r\n      })\r\n      .catch((error) => {\r\n        setStep(-1)\r\n        // SEND MONEY AND FAIL\r\n        setError(error.response.data.code)\r\n      });\r\n    }\r\n  }\r\n\r\n  return <div>\r\n    <VelocityTransitionGroup enter={{animation: (step === 3 || step === 0 || step === -1) ? \"fadeIn\" : \"slideDown\",duration:500,delay:600}} leave={{animation: \"slideUp\",duration:500}} >\r\n    { (step === -1) && <ErrorScreen error={error} />}\r\n    { (step === 0)  && <Loading />}\r\n  \t{ (step === 1)  && <SearchUser \t operation=\"Request\" setTransactionUser={ handleTransaction }/>}\r\n  \t{ (step === 2)  && <SelectAmount operation=\"Request\" userName={`${user.first_name} ${user.last_name}`} backStep={ backStep } setTransactionAmount={ handleTransaction }/>}\r\n  \t{ (step === 3)  && <SuccessScreen operation=\"requested \"data={userAndTransactionData}/>}\r\n    </VelocityTransitionGroup>\r\n  </div>\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\n\r\n// NEEDS BANKING LOGOS\r\n\r\nexport default function Accounts({account}) {\r\n  return (\r\n\r\n      <Link className=\"row\" to={\"/account/\"+account.id}>\r\n\r\n        <div className=\"col-10 text-left information\">\r\n\t        <b> {account.alias} </b> <br /> <span> {account.iban}  </span>\r\n        </div>\r\n        <div className=\"col-2 text-right amount\">\r\n\t        <FontAwesomeIcon size=\"lg\" icon={faChevronRight} />\r\n        </div>\r\n\r\n      </Link>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport BankAccount from '../components/BankAccount';\r\nimport Header from '../components/Header';\r\n\r\nexport default function Accounts({user}) {\r\n  const accounts = user.bankAccounts\r\n  \r\n  return(\r\n    <div className=\"container\">\r\n      <div className=\"row mobile_row\">\r\n\r\n        <Header back> My Accounts </Header>\r\n\r\n        <div className=\"col-12 mobile_col\">\r\n          <ul className=\"account\">\r\n            { accounts.map( (item,index) => {\r\n              return <BankAccount key={index} account={item} />\r\n            } ) }\r\n          </ul>\r\n        </div>\r\n\r\n        <div className=\"col-12 mobile_col text-center\">\r\n          <Link className=\"btn btn-primary w-100 mb-3\" to=\"/add-account\">\r\n            Add account \r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from \"axios\"\r\nimport Header from '../components/Header';\r\nimport { useParams, useHistory } from \"react-router-dom\"\r\n\r\nimport Loading from '../components/Loading';\r\nimport ErrorScreen from '../components/ErrorScreen';\r\nimport SuccessScreen from '../components/SuccessScreen';\r\nimport {VelocityTransitionGroup} from \"velocity-react\"\r\n\r\nexport default function Account() {\r\n  const { id } = useParams();\r\n  let history = useHistory();\r\n\r\n  const [step, setStep] = useState(1);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [account, setAccount] = useState({}) \r\n  const [checked, setChecked] = useState(false)\r\n\r\n  const handlePrimarySwitch = () => {\r\n    setChecked(!checked)\r\n    updateAccount({primary: checked ? \"false\" : \"true\"})\r\n  }\r\n\r\n  const getAccount = () => {\r\n      axios.get( process.env.REACT_APP_API_URL+\"bank_accounts/\"+id,\r\n      {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }}\r\n    ).then( (response) => {\r\n      setStep(0)\r\n      setAccount(response.data) \r\n      setChecked(response.data.primary===\"true\"?true:false)\r\n    })\r\n    .catch((error) => {\r\n      setError(error.response.data.code)\r\n      setStep(-1)\r\n    });\r\n  }\r\n\r\n  // BETTER SUCCESS PAGES MY DUDE\r\n  const updateAccount = (typeOfUpdate) => {\r\n      axios.put( process.env.REACT_APP_API_URL+\"bank_accounts/\"+id, typeOfUpdate,\r\n      {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }}\r\n    ).then( (response) => {\r\n      if (typeOfUpdate.primary) {\r\n        setSuccess(\"Account updated successfully\")\r\n      } else {\r\n        setSuccess(\"Account consent renewed for the next 3 months successfully\")\r\n      }\r\n      setAccount(response.data) \r\n      setChecked(response.data.primary === \"true\" ? true : false)\r\n      setStep(2)\r\n    })\r\n    .catch((error) => {\r\n      setError(error.response.data.code)\r\n      setStep(-1)\r\n    });\r\n  }\r\n\r\n  // BETTER SUCCESS PAGES MY DUDE\r\n  const deleteAccount = () => {\r\n      axios.delete( process.env.REACT_APP_API_URL+\"bank_accounts/\"+id, \r\n      {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }}\r\n    ).then( (response) => {\r\n      setSuccess(\"Account deleted successfully\")\r\n      setStep(2)\r\n    })\r\n    .catch((error) => {\r\n      setError(error.response.data.code)\r\n      setStep(-1)\r\n    });\r\n  }\r\n\r\n  useEffect(() => getAccount(), [])\r\n\r\n  let d , ye, mo, da, updated_at, expires_at\r\n\r\n  if (account.updated_at) {\r\n    d  = new Date( account.updated_at );\r\n    ye = Intl.DateTimeFormat('en', { year: 'numeric' }).format(d);\r\n    mo = Intl.DateTimeFormat('en', { month: 'short' }).format(d);\r\n    da = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(d);\r\n    updated_at = `${da}-${mo}-${ye}`\r\n  }\r\n  if (account.expires_at) {\r\n    d  = new Date( account.expires_at );\r\n    ye = new Intl.DateTimeFormat('en', { year: 'numeric' }).format(d);\r\n    mo = new Intl.DateTimeFormat('en', { month: 'short' }).format(d);\r\n    da = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(d);\r\n    expires_at = `${da}-${mo}-${ye}`\r\n  }\r\n\r\n  return(\r\n    \r\n\r\n    <VelocityTransitionGroup enter={{animation: \"fadeIn\", duration:500,delay:600}} leave={{animation: \"slideUp\",duration:500}} >\r\n    { (step === -1) && <ErrorScreen error={error} />}\r\n    { (step === 0)  && \r\n      <div className=\"container\">\r\n        <div className=\"row mobile_row\">\r\n          <Header back> Account Name </Header>\r\n          <div className=\"col-12 row mobile_col account\">\r\n            <div className=\"col-12 text-left information\">\r\n              <b> Alias </b> <br /> <small> {account.alias} </small>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12 row mobile_col account\">\r\n            <div className=\"col-12 text-left information\">\r\n              <b> IBAN </b> <br /> <small> {account.iban}  </small>\r\n            </div>\r\n          </div>\r\n  \r\n          <div className=\"col-12 row mobile_col account\">\r\n            <div className=\"col-12 text-left information\">\r\n              <b> Current balance </b> <br /> <small> {account.balance}€  </small>\r\n            </div>\r\n          </div>\r\n  \r\n          <div className=\"col-12 row mobile_col account\">\r\n            <div className=\"col-12 text-left information\">\r\n              <b> BIC / Swift </b> <br /> <small> {account.bic} </small>\r\n            </div>\r\n          </div>\r\n  \r\n          <div className=\"col-12 row mobile_col account\">\r\n            <div className=\"col-12 text-left information\">\r\n              <b> Last time renewed </b> <br /> <small> {account && updated_at} </small>\r\n            </div>\r\n          </div>\r\n  \r\n          <div className=\"col-12 row mobile_col account\">\r\n            <div className=\"col-12 text-left information\">\r\n              <b> Consent expires by </b> <br /> <small> {account && expires_at} </small>\r\n            </div>\r\n          </div>\r\n  \r\n          <div className=\"col-12 row mobile_col account\">\r\n            <div className=\"col-8 text-left information\">\r\n              <b> Set as primary Account </b>\r\n              <br/>\r\n            </div>\r\n            <div className=\"col-4 text-left information\">\r\n              <label className=\"switch\">\r\n                <input type=\"checkbox\" checked={checked} onClick={()=>handlePrimarySwitch()} />\r\n                <div className=\"slide\"></div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n  \r\n          <div className=\"col-12 mobile_col text-center\">\r\n            {/*\r\n            <button className=\"btn btn-primary w-100 mb-3\" onClick={()=>updateAccount({expires_at:true})}>\r\n              Renew account \r\n            </button>\r\n            */}\r\n            <button className=\"btn btn-outline-primary w-100 mb-3\" onClick={()=>deleteAccount()}>\r\n              Delete account \r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }\r\n    { (step === 1)  && <Loading />}\r\n    { (step === 2)  && <SuccessScreen account={success}/>}\r\n    </VelocityTransitionGroup>\r\n\r\n  )\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport Qs from \"qs\"\r\nimport axios from 'axios';\r\nimport Header from '../components/Header';\r\n\r\n// import { useHistory } from \"react-router-dom\"  let history = useHistory();\r\n\r\nimport Loading from '../components/Loading';\r\nimport ErrorScreen from '../components/ErrorScreen';\r\nimport SuccessScreen from '../components/SuccessScreen';\r\nimport {VelocityTransitionGroup} from \"velocity-react\"\r\n\r\n\r\nexport default function AddAccount() {\r\n  const [step, setStep] = useState(0);\r\n  const [code, setCode] = useState(\"client_credentials\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [provider, setProvider] = useState(\"payme\")\r\n  const [banks, setBanks] = useState([])\r\n\r\n  const createAccount = () => {\r\n    setStep(2) \r\n    let auth = JSON.parse(localStorage.getItem('user'))?.token\r\n\r\n    if (provider === \"payme\") {\r\n      //The only one that goes directly\r\n      axios.post( process.env.REACT_APP_API_URL+\"bank_accounts/\", {bank:provider},\r\n        { headers: { Authorization: `Bearer ${auth}`}\r\n      }).then((response)=>{setSuccess(\"PayME Test Bank Account with €1000 added successfully\");setStep(3)\r\n      }).catch(error => {console.error(error); setError(\"Check the console\");setStep(-1)});\r\n      return true;\r\n    }\r\n\r\n    axios.post( process.env.REACT_APP_API_URL+\"oauth/\", \r\n      {bank: provider, code: code}, { headers: { Authorization: `Bearer ${auth}`}\r\n    }).then((response)=>{\r\n      console.warn(response)\r\n      if (\"auth_url\" in response.data) {\r\n        window.location.href = response.data.auth_url\r\n      } else if (\"consent_url\" in response.data) {\r\n        window.location.href = response.data.consent_url\r\n      } else if (\"banks\" in response.data) {\r\n        setBanks(response.data.banks)\r\n        setCode(JSON.stringify(\r\n          {id:response.data.banks[0]['id'], name:response.data.banks[0]['bankDisplayName']})\r\n        )\r\n        setProvider(\"neonomics\")\r\n        setStep(1)\r\n      } else {\r\n        setSuccess(\"Bank Accounts added successfully\")\r\n        setStep(3)\r\n      }\r\n    }).catch(error => {\r\n      console.warn(error)\r\n      //if (\"consent_url\" in error?.response?.data) {\r\n      //  window.location.href = error?.response?.data.consent_url\r\n      //} else {\r\n        setError(\"Invalid Authorization Token\")\r\n        setStep(-1)\r\n      //}    \r\n    });\r\n  }\r\n\r\n  return (\r\n    <VelocityTransitionGroup enter={{animation: \"fadeIn\", duration:500,delay:600}} leave={{animation: \"slideUp\",duration:500}} >\r\n      { (step === -1) && <ErrorScreen error={error} />}\r\n      { (step === 0)  && \r\n        <div className=\"container\">\r\n          <div className=\"row mobile_row\">\r\n            <Header back> Add Account </Header>\r\n\r\n            <div className=\"col-12 mobile_col\">\r\n              <label className=\"form-label\" >Select Bank</label>\r\n              <select className=\"form-control\" value={provider} onChange={(e)=>setProvider(e.target.value)}>\r\n                <option value=\"payme\" selected> PayMe Test Bank </option>\r\n                <option value=\"deutschebank\"> Deutschebank </option>\r\n                <option value=\"rabobank\"> Rabobank </option>\r\n                <option value=\"neonomics\" > Neonomics </option>\r\n                <option value=\"klarna\" disabled> Klarna </option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"col-12 mobile_col text-center\">\r\n              <button className=\"btn btn-primary w-100 mb-3\" onClick={createAccount}>Submit</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      { (step === 1)  && \r\n      <div className=\"container\">\r\n          <div className=\"row mobile_row\">\r\n            <Header back> Add Account </Header>\r\n            <div className=\"col-12 mobile_col\">\r\n              <label className=\"form-label\" >Select Bank</label>\r\n              <select className=\"form-control\" value={code.name} onChange={(e)=>setCode(e.target.value)}>\r\n                {banks.map((i)=>{return<option value={\r\n                  JSON.stringify({id:i.id,name:i.bankDisplayName})\r\n                }>{i.bankDisplayName}</option>})}\r\n              </select>\r\n            </div>\r\n            <div className=\"col-12 mobile_col text-center\">\r\n              <button className=\"btn btn-primary w-100 mb-3\" onClick={createAccount}>Submit</button>\r\n            </div>\r\n          </div>\r\n        </div>}\r\n      { (step === 2)  && <Loading />}\r\n      { (step === 3)  && <SuccessScreen account={success}/>}\r\n    </VelocityTransitionGroup>\r\n  )\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Header from '../components/Header';\r\nimport { useParams, useLocation } from \"react-router-dom\"\r\n\r\nimport Loading from '../components/Loading';\r\nimport ErrorScreen from '../components/ErrorScreen';\r\nimport SuccessScreen from '../components/SuccessScreen';\r\nimport {VelocityTransitionGroup} from \"velocity-react\"\r\n\r\n//let history = useHistory() history.push(\"/\")\r\nexport default function AddAccount() {\r\n  const { bank } = useParams();\r\n  const [step, setStep] = useState(1);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n  }\r\n  let query = useQuery();\r\n  const getAuth = () => {\r\n    let auth = JSON.parse(localStorage.getItem('user'))?.token\r\n    let code = query.get(\"code\")\r\n\r\n    if (query.get(\"code\")) {\r\n      setTimeout ( () => {\r\n        axios.post( process.env.REACT_APP_API_URL+\"oauth-bank/\", { code: code, bank: bank },\r\n          { headers: { Authorization: `Bearer ${auth}`}\r\n        }).then((response)=>{\r\n          console.log(response)\r\n          setSuccess(\"Bank Accounts added successfully\")\r\n          setStep(2)\r\n        }).catch(error => {\r\n          setError(\"Invalid Authorization Token\")\r\n          setStep(-1)\r\n        });\r\n\r\n      }, 1000 )\r\n    } else {\r\n      setError(\"No Code was received\")\r\n      setStep(-1)\r\n    }\r\n  }\r\n  useEffect(() => getAuth(), [])\r\n\r\n  return (\r\n    <VelocityTransitionGroup enter={{animation: \"fadeIn\", duration:500,delay:600}} leave={{animation: \"slideUp\",duration:500}} >\r\n      { (step === -1) && <ErrorScreen error={error} />}\r\n      { (step === 0)  && \r\n        <div className=\"container\">\r\n          <div className=\"row mobile_row\">\r\n            <Header back> Add Account. </Header>\r\n\r\n            <div className=\"col-12 mobile_col\">\r\n            </div>\r\n            <div className=\"col-12 mobile_col text-center\">\r\n              {/*onClick={createAccount}*/}\r\n              <button className=\"btn btn-primary w-100 mb-3\" >Submit</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      { (step === 1)  && <Loading />}\r\n      { (step === 2)  && <SuccessScreen account={success}/>}\r\n    </VelocityTransitionGroup>\r\n\r\n\r\n\r\n\r\n\r\n  )\r\n}\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport Loading from '../components/Loading';\r\nimport SelectAmount from '../components/SelectAmount';\r\nimport ErrorScreen from '../components/ErrorScreen';\r\nimport SuccessScreen from '../components/SuccessScreen';\r\nimport {VelocityTransitionGroup} from \"velocity-react\"\r\n\r\nexport default function LinkUser() {\r\n  let { id } = useParams();\r\n  const [step, setStep] = useState(0);\r\n  const [user, setUser] = useState(0);\r\n  const [amount, setAmount] = useState(0);\r\n  const [error, setError] = useState(0);\r\n  const [userAndTransactionData, setUserAndTransactionData] = useState({ userName: \"\", amount: \"\", profile_picture: \"\" })\r\n  \r\n  let PrimaryBank = JSON.parse(localStorage.getItem('user')).user.bankAccounts.find(item => item.primary === \"true\")?.bank\r\n  const [otp, setOTP] = useState(\"\");\r\n\r\n\r\n  const getUser = (id) => {\r\n    axios.get( process.env.REACT_APP_API_URL+\"users/\"+id, \r\n      {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }}\r\n    ).then(({ data }) => {\r\n      setUser(data)\r\n      setStep(1)\r\n    })\r\n    .catch((error) => {\r\n      setStep(-1)\r\n      setError(error.response.data.code)\r\n    });\r\n  }\r\n\r\n\r\n  const handleTransaction = (value) => {\r\n  \tif (step === 0) {\r\n      if (value <= 0 ) {\r\n        return false\r\n      }\r\n      setStep(2)\r\n    } else if (step === 1) {\r\n      value = parseInt(value, 10)\r\n      setStep(0)\r\n\r\n      axios.post( process.env.REACT_APP_API_URL+\"transaction/\", \r\n        {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }},\r\n        {data:\"placeholder\"}\r\n      )\r\n      .then(({ data }) => {\r\n        setUserAndTransactionData({\r\n          userName: `${user.first_name} ${user.last_name}`,\r\n          profile_picture:user.profile_picture,\r\n          amount: `${value}€`\r\n        })\r\n        setStep(2)\r\n      })\r\n      .catch((error) => {\r\n        setStep(-1)\r\n        // SEND MONEY AND FAIL\r\n        setError(error.response.data.code)\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect(() => getUser(id), [id])\r\n\r\n  return <div>\r\n    <VelocityTransitionGroup enter={{animation: (step === 2 || step === 0 || step === -1) ? \"fadeIn\" : \"slideDown\",duration:500,delay:600}} leave={{animation: \"slideUp\",duration:500}} >\r\n    { (step === -1) && <ErrorScreen error={error} tryAgain={handleTransaction} />}\r\n    { (step === 0) && <Loading />}\r\n  \t{ (step === 1) && <SelectAmount operation=\"Send\" userName={`${user.first_name} ${user.last_name}`} backStep={ null } setTransactionAmount={ handleTransaction }/>}\r\n  \t{ (step === 2) && <SuccessScreen operation=\"sent\" data={userAndTransactionData}/>}\r\n    </VelocityTransitionGroup>\r\n  </div>\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useParams  } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Loading from '../components/Loading';\r\nimport ErrorScreen from '../components/ErrorScreen';\r\nimport SuccessScreen from '../components/SuccessScreen';\r\nimport {VelocityTransitionGroup} from \"velocity-react\"\r\n\r\nexport default function LinkRequest() {\r\n  let { id } = useParams();\r\n  const [step, setStep] = useState(0); \r\n  const [user, setUser] = useState(0); \t\r\n  const [amount, setAmount] = useState(0);\r\n  const [error, setError] = useState(0);\r\n  const [userAndTransactionData, setUserAndTransactionData] = useState({ userName: \"\", amount: \"\", profile_picture: \"\" })\r\n\r\n  const handleTransaction = () => {\r\n    axios.put( process.env.REACT_APP_API_URL+\"transactions/\"+id, {} ,\r\n        {headers: { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user'))?.token}` }}\r\n      ).then( (response) => {\r\n        setUserAndTransactionData({\r\n          userName: `${response.data.receiver.first_name} ${response.data.receiver.last_name}`,\r\n          profile_picture:response.data.receiver.profile_picture,\r\n          amount: `${response.data.amount}€`\r\n        })\r\n        setStep(1)\r\n      })\r\n      .catch((error) => {\r\n        setStep(-1)\r\n        // SAME USER, SEND MONEY AND FAIL, NOT FOUND TRANSF\r\n        setError(error.response.data.code)\r\n      });\r\n  }\r\n\r\n  //RUN ONCE WTF\r\n  useEffect(() => handleTransaction(), [])\r\n\r\n  return <div>\r\n    <VelocityTransitionGroup enter={{animation:\"fadeIn\",duration:500,delay:600}} leave={{animation: \"slideUp\",duration:500}} >\r\n    { (step === -1) && <ErrorScreen error={error} />}\r\n    { (step === 0)  && <Loading />}\r\n  \t{ (step === 1)  && <SuccessScreen operation=\"paid\" data={userAndTransactionData}/>}\r\n    </VelocityTransitionGroup>\r\n  </div>\r\n}","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Route, Switch, useLocation } from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\"\n\nimport Qs from 'qs';\nimport axios from 'axios';\n\nimport Onboarding from './pages/Onboarding';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\n\nimport Dashboard from './pages/Dashboard';\nimport Settings from './pages/Settings';\nimport Notifications from './pages/Notifications';\n\nimport Send from './pages/Send';\nimport Request from './pages/Request';\n\nimport Accounts from './pages/Accounts';\nimport Account from './pages/Account';\nimport AddAccount from './pages/AddAccount';\nimport AuthAccount from './pages/AuthAccount';\n\n\nimport LinkUser from './pages/LinkUser';\nimport LinkRequest from './pages/LinkRequest';\n\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';    \n\nexport default function AppContainer() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"*\" >\n          <App />\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  )\n}\n//\nfunction App() {\n  const getUser = () => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    return user\n  }\n  const [user, setUser] = useState(getUser()) \n\n  const handleLogin = user => {\n    user.date = Date.now()\n    localStorage.setItem('user', JSON.stringify(user));\n    setUser(user);\n    history.push(\"/\")\n  }\n  const handleLogout = () => {\n    axios.get(process.env.REACT_APP_API_URL+\"logout\", {headers: { Authorization: `Bearer ${getUser()?.token}` }}\n    ).then(({ data }) => {\n      localStorage.clear()\n      setUser(undefined)\n      history.replace(\"/\")\n      // history.clear()\n    })\n  }\n\n\n  const handleReload = () => {\n    if (getUser()?.token) {\n      axios.get( process.env.REACT_APP_API_URL+\"auth/\",  {headers: { Authorization: `Bearer ${getUser()?.token}` }}\n      ).then( (response) => {\n        //Should Recover token and reload it      console.log(response.data)\n        let userData = {\n          type: \"bearer\",\n          token: getUser()?.token,\n          user: response.data,\n          date: Date.now(),\n          keys: getUser()?.keys\n        }\n\n        /*\n          THESE ARE REFRESHED FROM THE BACKEND (sigh)\n\n          for each userData.keys get axios and change data !async! \n          if (userData.keys?.deutschebank) {\n            axios.post( \"https://simulator-api.db.com/gw/oidc/token\", Qs.stringify({\n              grant_type:\"refresh_token\", refresh_token: userData.keys.deutschebank.refresh_token\n            }),\n            {headers: { Authorization: `Bearer ${userData.keys.deutschebank.access_token}`, \n              \"Content-Type\": \"application/x-www-form-urlencoded\" }} \n            ).then( (response) => { userData.keys.deutschebank = response.data })\n          }\n          if (userData.keys?.rabobank) {\n            axios.get( \"https://simulator-api.db.com/gw/dbapi/v1/cashAccounts\",\n              {headers: { Authorization: `Bearer ${userData.keys.rabobank.access_token}` }} \n            ).then( (response) => { userData.keys.rabobank = response.data })\n          }\n          \n          TAKE CARE BELOW MAY WORK BEFORE EDITED USER DATA AND SAY ITS ONLY A PROMISE\n        */\n\n        console.log(\"handleReload\")\n        localStorage.setItem('user', JSON.stringify(userData));\n        setUser(userData) \n\n      })\n      .catch((error) => {\n        // alert(error.response.data.code)\n        localStorage.clear()\n        history.push(\"/login\")\n      });\n    }\n  }\n\n\n  let location = useLocation();\n  let history = useHistory();\n\n  useEffect(() => {\n    if (location.pathname === \"/\") {\n      handleReload()\n    }\n    // SET TO TRUE TO ACTIVATE THE TIMER / REPLACE WITH A SERVICE PROVIDER <3\n    if (false) {\n      const interval = setInterval(() => {\n        if (location.pathname === \"/\") {\n          console.log(\"Debug - Handling reload\")\n          handleReload()\n        }\n      }, 60000); // Every minute \n      return () => clearInterval(interval);\n    }\n  }, [location.pathname]);\n\n\n  //console.log(!getUser() ? \"No session\" : \"Session active\", getUser(), \"-\" , !user ? \"No session\" : \"Session active\" , user)\n\n\n  if (!user) {\n    return (\n      <TransitionGroup>\n        <CSSTransition key={location.key}  classNames=\"fade\" timeout={300} >\n          <Switch location={location}>\n            <Route path=\"/login\">\n              <Login setToken={handleLogin} />\n            </Route>\n            <Route path=\"/register\">\n              <Register setToken={handleLogin} />\n            </Route>\n            <Route path=\"/\">\n              <Onboarding />\n            </Route>\n          </Switch>\n        </CSSTransition> \n      </TransitionGroup>\n      )\n  }\n\n  return (\n    <TransitionGroup user={ user.user }>\n      <CSSTransition key={location.key}  classNames=\"fade\" timeout={300} >\n        <Switch location={location}>\n  \n          <Route path=\"/notifications\">\n            <Notifications user={ user.user }/>\n          </Route>\n          <Route path=\"/settings\" >\n            <Settings logout={handleLogout} user={ user.user }/>\n          </Route>\n          <Route path=\"/send-payment\">\n            <Send />\n          </Route>\n          <Route path=\"/request-payment\">\n            <Request />\n          </Route>\n  \n          <Route path=\"/user/:id\">\n            <LinkUser />\n          </Route>\n  \n          <Route path=\"/request/:id\">\n            <LinkRequest />\n          </Route>\n          \n          <Route path=\"/accounts\">\n            <Accounts user={ user.user }/>\n          </Route>\n          <Route path=\"/account/:id\">\n            <Account />\n          </Route>\n\n\n          <Route path=\"/add-account/:bank\">\n            <AuthAccount />\n          </Route>\n          \n          <Route path=\"/add-account\">\n            <AddAccount />\n          </Route>\n\n          <Route path=\"/\" >\n            <Dashboard user={ user.user }/>\n          </Route>\n        </Switch>\n      </CSSTransition>\n    </TransitionGroup>\n  )\n\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css'; \nimport './index.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}