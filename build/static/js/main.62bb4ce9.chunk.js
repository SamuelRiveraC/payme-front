(this["webpackJsonppayme-front"]=this["webpackJsonppayme-front"]||[]).push([[0],{160:function(e,t,c){},296:function(e,t,c){},298:function(e,t,c){},299:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(18),i=c.n(s),r=c(2),o=c(4),l=c(10),j=(c(77),c(3)),b=c.n(j),d=c(33),u=c(119),m=c.n(u),h=(c(160),c.p+"static/media/payme-light.903d66b1.png"),O=c.p+"static/media/Money_transfer_1.e9c63204.png",x=c.p+"static/media/Money_transfer_2.bdd99fea.png",p=c(0);var A=function(){return Object(p.jsx)("div",{className:"container container-transparent",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)("div",{className:"col-12 mobile_col text-center"}),Object(p.jsx)("div",{className:"col-12 mobile_col onboarding",children:Object(p.jsxs)(m.a,Object(d.a)(Object(d.a)({},{dots:!0,arrows:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:h,alt:"Logo",height:"64",className:"mb-0"}),Object(p.jsx)("img",{src:"data:image/png;base64,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",alt:"Logo"}),Object(p.jsx)("br",{}),Object(p.jsx)("h3",{children:"Easy payments for individuals and business"}),Object(p.jsxs)("p",{children:["https://payme-back.glitch.me/"," ","https://payme-ui.glitch.me/"]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Send money to family and friends"}),Object(p.jsx)("br",{}),Object(p.jsx)("img",{src:O,alt:"Logo"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Pay products and service"}),Object(p.jsx)("br",{}),Object(p.jsx)("img",{src:x,alt:"Logo"})]})]}))}),Object(p.jsxs)("div",{className:"col-12 mobile_col text-center",children:[Object(p.jsx)(o.b,{className:"btn btn-light w-100 mb-3",to:"/register",children:"Register"}),Object(p.jsx)("br",{}),Object(p.jsx)(o.b,{className:"btn btn-link-dark w-100",to:"/login",children:"Log In"})]})]})})},f=c(19),v=c.n(f),N=c(28),g=c(6),y=c(7);function w(){var e=Object(l.f)();return Object(p.jsx)("button",{className:"link",onClick:function(){e.goBack()},children:Object(p.jsx)(g.a,{size:"lg",icon:y.d})})}function k(){return Object(p.jsx)(o.b,{to:"/settings",children:Object(p.jsx)(g.a,{size:"lg",icon:y.b})})}function S(e){var t=e.notificationNumber;return Object(p.jsxs)(o.b,{to:"/notifications",style:{position:"relative"},children:[Object(p.jsx)(g.a,{size:"lg",icon:y.c,style:{height:60}}),t>0&&Object(p.jsxs)("div",{className:"notification__number",children:[" ",t," "]})]})}function C(e){var t=e.children,c=e.back,a=e.menu,n=e.notification,s=e.notificationNumber,i=e.triggerRefresh;return Object(p.jsx)("div",{className:"col-12 mobile_col header",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-4",children:[c&&Object(p.jsx)(w,{}),n&&Object(p.jsx)(S,{notificationNumber:s})]}),Object(p.jsxs)("div",{className:"col-4 text-center pt-2",children:[i&&Object(p.jsx)("img",{className:"LogoLight",src:h,alt:"Logo",height:"36px",onClick:function(){return i()}}),i&&Object(p.jsx)("img",{className:"LogoColor",src:"data:image/png;base64,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",alt:"Logo",height:"36px",onClick:function(){return i()}})]}),Object(p.jsx)("div",{className:"col-4 text-right",children:a&&Object(p.jsx)(k,{})}),Object(p.jsx)("div",{className:"col-12 mt-5 title",children:t})]})})}var T=c(45),B=c(46),I=c(49),_=c(48),E=c(9),P=function(e){Object(I.a)(c,e);var t=Object(_.a)(c);function c(){return Object(T.a)(this,c),t.apply(this,arguments)}return Object(B.a)(c,[{key:"render",value:function(){return Object(p.jsx)(E.VelocityTransitionGroup,{enter:{animation:"fadeIn",duration:250,delay:250},leave:{animation:"fadeOut",duration:250},children:Object(p.jsx)("div",{className:"validation__error",children:this.props.active&&Object(p.jsxs)("div",{children:[" ",Object(p.jsx)(g.a,{size:"lg",icon:y.f})," ",this.props.children," "]})})})}}]),c}(n.a.Component);function V(e){var t=e.setToken,c=Object(a.useState)(),n=Object(r.a)(c,2),s=n[0],i=n[1],o=Object(a.useState)(),l=Object(r.a)(o,2),j=l[0],d=l[1],u=Object(a.useState)({wrong:!1,emailOrPhone:!1,password:!1}),m=Object(r.a)(u,2),h=m[0],O=m[1],x=function(){setTimeout((function(){O({wrong:!1,emailOrPhone:!1,password:!1})}),6250)},A=function(){var e=Object(N.a)(v.a.mark((function e(c){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),s&&j){e.next=5;break}return O({wrong:!1,emailOrPhone:!s,password:!j}),x(),e.abrupt("return",!1);case 5:b.a.post("https://payme-back.glitch.me/login",{emailOrPhone:s,password:j}).then((function(e){alert("https://payme-back.glitch.me/login"+JSON.stringify(null===e||void 0===e?void 0:e.data)),t(e.data)})).catch((function(e){var t;alert(JSON.stringify(null===(t=e.response)||void 0===t?void 0:t.data)),O({wrong:!0,emailOrPhone:!1,password:!1}),x()}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("form",{className:"row mobile_row",onSubmit:A,children:[Object(p.jsx)(C,{back:!0,children:" Log in PayMe "}),Object(p.jsxs)("div",{className:"col-12 mobile_col",children:[Object(p.jsx)(P,{active:h.wrong,children:" The Email, phone or password are incorrect  "})," ",Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"form-outline",children:[Object(p.jsx)("label",{className:"form-label",children:"Email or Phone"}),Object(p.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return i(e.target.value)}}),Object(p.jsx)(P,{active:h.emailOrPhone,children:" A phone number or email is required "})]}),Object(p.jsxs)("div",{className:"form-outline",children:[Object(p.jsx)("label",{className:"form-label",children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return d(e.target.value)}}),Object(p.jsx)(P,{active:h.password,children:" The password is required "})]}),Object(p.jsx)("div",{className:"form-outline",children:Object(p.jsx)("a",{className:"w-100 py-3",href:"#",children:"I Forgot my Password"})})]}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("button",{className:"btn btn-primary w-100 mb-3",type:"submit",children:"Log In"})})]})})}function D(e){var t=e.setToken,c=Object(a.useState)(),n=Object(r.a)(c,2),s=n[0],i=n[1],o=Object(a.useState)(),l=Object(r.a)(o,2),j=l[0],d=l[1],u=Object(a.useState)(),m=Object(r.a)(u,2),h=m[0],O=m[1],x=Object(a.useState)(),A=Object(r.a)(x,2),f=A[0],g=A[1],y=Object(a.useState)(),w=Object(r.a)(y,2),k=w[0],S=w[1],T=Object(a.useState)(),B=Object(r.a)(T,2),I=B[0],_=B[1],E=Object(a.useState)({}),V=Object(r.a)(E,2),D=V[0],q=V[1],U=function(){setTimeout((function(){q({duplicated:!1,password:!1,email:!1,phone:!1,first_name:!1,last_name:!1,tos:!1})}),6250)},L=function(){var e=Object(N.a)(v.a.mark((function e(c){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),s&&j&&h&&f&&k&&I){e.next=5;break}return q({password:!s,email:!j,phone:!h,first_name:!f,last_name:!k,tos:!I}),U(),e.abrupt("return",!1);case 5:b.a.post("https://payme-back.glitch.me/users",{password:s,email:j,phone:h,first_name:f,last_name:k}).then((function(e){t(e.data)})).catch((function(e){q({duplicated:!0}),U()}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("form",{className:"row mobile_row",onSubmit:L,children:[Object(p.jsx)(C,{back:!0,children:" Register in PayMe "}),Object(p.jsxs)("div",{className:"col-12 mobile_col",children:[Object(p.jsx)(P,{active:D.duplicated,children:" The Account email or phone number already exists  "})," ",Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"form-outline ",children:[Object(p.jsx)("label",{className:"form-label",children:"First name"}),Object(p.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return g(e.target.value)}}),Object(p.jsx)(P,{active:D.first_name,children:" The first name is required  "})]}),Object(p.jsxs)("div",{className:"form-outline ",children:[Object(p.jsx)("label",{className:"form-label",children:"Last name"}),Object(p.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return S(e.target.value)}}),Object(p.jsx)(P,{active:D.last_name,children:" The last name is required  "})]}),Object(p.jsxs)("div",{className:"form-outline ",children:[Object(p.jsx)("label",{className:"form-label",children:"Email"}),Object(p.jsx)("input",{type:"email",className:"form-control",onChange:function(e){return d(e.target.value)}}),Object(p.jsx)(P,{active:D.email,children:" The email is required  "})]}),Object(p.jsxs)("div",{className:"form-outline ",children:[Object(p.jsx)("label",{className:"form-label",children:"Phone"}),Object(p.jsx)("input",{type:"phone",className:"form-control",onChange:function(e){return O(e.target.value)}}),Object(p.jsx)(P,{active:D.phone,children:" The phone number is required  "})]}),Object(p.jsxs)("div",{className:"form-outline ",children:[Object(p.jsx)("label",{className:"form-label",children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",onChange:function(e){return i(e.target.value)}}),Object(p.jsx)(P,{active:D.password,children:" The password is required  "})]}),Object(p.jsxs)("div",{className:"form-check ",children:[Object(p.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:function(e){return _(e.target.checked)}}),Object(p.jsx)("label",{className:"form-check-label",children:"I Accept the Privacy policy and the Terms of Use"}),Object(p.jsx)("br",{}),Object(p.jsx)(P,{active:D.tos,children:" You are required to accept our ToS  "})]})]}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsx)("button",{className:"btn btn-primary w-100 ",type:"submit",children:"Register"})})]})})}function q(e){var t,c=e.transaction,a=new Date(c.updated_at),n=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),s=new Intl.DateTimeFormat("en",{month:"short"}).format(a),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a),r="".concat(i,"-").concat(s,"-").concat(n),o=null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.user;if(!o)return"";var l=null===c.party||void 0===c.party?"No Name":c.party.slice(0,2);return"debit"===c.fetch_type||"credit"===c.fetch_type?Object(p.jsxs)("li",{className:"row",children:[Object(p.jsx)("div",{className:"col-2 text-left image",children:Object(p.jsx)("img",{src:"https://via.placeholder.com/160/"+c.color+"/EDF4FC?text="+l,height:60,alt:"transaction"})}),Object(p.jsxs)("div",{className:"col-5 text-left information",children:[Object(p.jsxs)("b",{children:[" ",null===c.party||void 0===c.party?"No Name":c.party," "]}),Object(p.jsx)("br",{})," ",Object(p.jsxs)("small",{children:[" ",r]})]}),Object(p.jsxs)("div",{className:"col-5 text-right amount",style:"debit"===c.fetch_type?{color:"#932727"}:{},children:["debit"===c.fetch_type&&"-"," ",parseFloat(c.amount).toFixed(2),"\u20ac"]})]}):Object(p.jsxs)("li",{className:"row",children:[Object(p.jsxs)("div",{className:"col-2 text-left image",children:[o.id===c.sender.id&&Object(p.jsx)("img",{src:c.sender.profile_picture,height:60,alt:"transaction"}),o.id===c.receiver.id&&Object(p.jsx)("img",{src:c.receiver.profile_picture,height:60,alt:"transaction"})]}),Object(p.jsxs)("div",{className:"col-5 text-left information",children:[o.id===c.sender.id&&Object(p.jsxs)("b",{children:[" ",c.receiver.first_name," ",c.receiver.last_name," "]}),o.id===c.receiver.id&&Object(p.jsxs)("b",{children:[" ",c.sender.first_name," ",c.sender.last_name," "]}),Object(p.jsx)("br",{})," ",Object(p.jsxs)("small",{children:[" ",r]})]}),Object(p.jsxs)("div",{className:"col-5 text-right amount",style:o.id===c.user_sender_id?{color:"#932727"}:{},children:[o.id===c.user_sender_id&&"-"," ",c.amount.toFixed(2),"\u20ac"]})]})}function U(e){e.user;var t,c=e.BankAccounts,a=e.Transactions,n=e.Notifications,s=e.triggerRefresh,i=0;c&&Array.isArray(c)&&(i=null===(t=c.find((function(e){return"true"===e.primary})))||void 0===t?void 0:t.balance);var r=a.sort((function(e,t){var c=new Date(e.updated_at);return new Date(t.updated_at)-c}));return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsxs)("div",{className:"row dashboard",children:[Object(p.jsx)(C,{notification:!0,notificationNumber:n.length,menu:!0,triggerRefresh:function(){return s()}}),Object(p.jsxs)("div",{className:"col-12 mobile_col text-center",children:[(i||0==i)&&Object(p.jsxs)("h1",{children:[" ",Object(p.jsx)("small",{children:"Available Balance"})," ",Object(p.jsx)("br",{})," ",Object(p.jsxs)("b",{children:[i,"\u20ac"]})," ",Object(p.jsx)("br",{})," ",Object(p.jsx)("br",{})," "]}),!i&&0!=i&&0==c.length&&Object(p.jsx)("h1",{children:Object(p.jsx)(o.b,{to:"/add-account",children:"Upload a bank account to start"})}),!i&&0!=i&&c.length>0&&Object(p.jsx)("h3",{children:Object(p.jsx)(o.b,{to:"/add-account",children:"Change one account to primary, so it can be used for payments and requests"})})]})]}),Object(p.jsxs)("div",{className:"col-12 mobile_col text-center transactions",children:[Object(p.jsx)("p",{children:"Recent Activity"}),Object(p.jsx)("ul",{children:r.map((function(e,t){return Object(p.jsx)(q,{transaction:e},t)}))})]}),Object(p.jsxs)("div",{className:"col-12 mobile_col text-center",children:[Object(p.jsx)(o.b,{className:"btn btn-primary w-100 mb-3",to:"/send-payment",children:"Send payment"}),Object(p.jsx)("br",{}),Object(p.jsx)(o.b,{className:"btn btn-outline-primary w-100 mb-3",to:"/request-payment",children:"Request payment"})]})]})})}var L=c(47),z=c.n(L);var R=function(e){var t=e.logout,c=e.user;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)(C,{back:!0,children:Object(p.jsxs)("div",{className:"profile",children:[Object(p.jsx)("img",{src:c.profile_picture,alt:"profile"})," ","".concat(c.first_name," ").concat(c.last_name)]})}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsxs)("ul",{className:"settings",children:[Object(p.jsx)("li",{children:Object(p.jsxs)(o.b,{to:"/accounts",children:["My accounts ",Object(p.jsx)(g.a,{size:"lg",icon:y.e})]})}),Object(p.jsx)("li",{children:Object(p.jsxs)(o.b,{to:"/add-account",children:["Add account ",Object(p.jsx)(g.a,{size:"lg",icon:y.e})]})}),Object(p.jsx)("li",{children:Object(p.jsxs)(o.b,{to:"/settings",children:["Support ",Object(p.jsx)(g.a,{size:"lg",icon:y.e})]})}),Object(p.jsx)("li",{children:Object(p.jsxs)(o.b,{to:"/settings",children:["Legal ",Object(p.jsx)(g.a,{size:"lg",icon:y.e})]})}),Object(p.jsx)("li",{children:Object(p.jsxs)(o.b,{to:"/settings",children:["Invite Friends ",Object(p.jsx)(g.a,{size:"lg",icon:y.e})]})}),Object(p.jsx)("li",{children:Object(p.jsxs)("button",{className:"link",onClick:t,style:{display:"flex",justifyContent:"space-between",width:"100%",height:"60px",margin:0,padding:0,lineHeight:"60px",color:"#29363D"},children:["Logout ",Object(p.jsx)(g.a,{size:"lg",icon:y.e})]})})]})}),Object(p.jsxs)("div",{className:"col-12 mobile_col text-center",onClick:function(){navigator.clipboard.writeText("".concat("https://payme-ui.glitch.me/","user/").concat(c.slug))},children:[Object(p.jsx)("a",{href:"".concat("https://payme-ui.glitch.me/","user/").concat(c.slug),children:"".concat("https://payme-ui.glitch.me/","user/").concat(c.slug)}),Object(p.jsx)("br",{})," ",Object(p.jsx)("br",{}),Object(p.jsx)(z.a,{value:"".concat("https://payme-ui.glitch.me/","user/").concat(c.slug)})]})]})})};function F(e){var t=e.notificationProp,c=Object(a.useState)(t),n=Object(r.a)(c,2),s=n[0],i=n[1],o=new Date(s.updated_at),j=new Intl.DateTimeFormat("en",{year:"numeric"}).format(o),u=new Intl.DateTimeFormat("en",{month:"short"}).format(o),m=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(o),h="".concat(m,"-").concat(u,"-").concat(j),O=Object(l.f)();return Object(p.jsxs)("button",{onClick:function(){if(0===s.type&&0===s.status)return O.push("/request/"+s.transaction_id),!0;if(0===s.status){var e,t=Object(d.a)({},s);t.status=0===t.status?1:0,b.a.put("https://payme-back.glitch.me/notifications/"+s.id,{headers:{Authorization:"Bearer ".concat(null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.token)}},{status:s.status}).then((function(e){e.data;i(t)})).catch((function(e){alert(e.response.data.code)}))}},className:0===s.status?"link row notification unread":"link row notification",children:[Object(p.jsxs)("div",{className:"col-10 text-left",children:[0===s.type&&Object(p.jsxs)("b",{children:[" ",s.transaction.receiver.first_name," ",s.transaction.receiver.last_name," has requested a payment for ",s.transaction.amount,"\u20ac "]}),1===s.type&&Object(p.jsxs)("b",{children:[" You have received ",s.transaction.amount,"\u20ac from ",s.transaction.sender.first_name," ",s.transaction.sender.last_name," "]}),Object(p.jsx)("br",{}),Object(p.jsxs)("small",{children:[" ",h," "]})]}),Object(p.jsx)("div",{className:"col-2 text-right",children:Object(p.jsx)(g.a,{size:"lg",icon:y.e})})]})}function G(e){var t,c=e.Notifications,a=null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.token,n=Object(l.f)();return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)(C,{back:!0,children:Object(p.jsxs)("div",{className:"row justify-content-between",style:{lineHeight:"48px"},children:[Object(p.jsx)("div",{className:"col-6",children:"Notifications"}),Object(p.jsx)("div",{className:"col-6 text-right",children:Object(p.jsx)("button",{className:"btn btn-sm btn-outline-primary py-0",onClick:function(){b.a.post("https://payme-back.glitch.me/notification-clear/",{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){n.goBack()})).catch((function(e){alert("Couldn't mark all notifications as read ")}))},children:"Clear notifications"})})]})}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsx)("ul",{className:"notification",children:c.map((function(e,t){return Object(p.jsx)(F,{notificationProp:e},t)}))})}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsx)("br",{})})]})})}c(296);function J(){return Object(p.jsx)("div",{className:"container container-transparent",children:Object(p.jsx)("div",{className:"row mobile_row",children:Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("div",{className:"ct-loader style1",children:Object(p.jsxs)("div",{className:"loading-spin",children:[Object(p.jsxs)("div",{className:"spinner",children:[Object(p.jsx)("div",{className:"right-side",children:Object(p.jsx)("div",{className:"bar"})}),Object(p.jsx)("div",{className:"left-side",children:Object(p.jsx)("div",{className:"bar"})})]}),Object(p.jsxs)("div",{className:"spinner color-2",children:[Object(p.jsx)("div",{className:"right-side",children:Object(p.jsx)("div",{className:"bar"})}),Object(p.jsx)("div",{className:"left-side",children:Object(p.jsx)("div",{className:"bar"})})]})]})})})})})}var X=function(e){Object(I.a)(c,e);var t=Object(_.a)(c);function c(e){var a;return Object(T.a)(this,c),(a=t.call(this,e)).getInfo=function(){var e=Object(N.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get("https://payme-back.glitch.me/users/search/"+a.state.query,{headers:{Authorization:"Bearer ".concat(null===(c=JSON.parse(localStorage.getItem("user")))||void 0===c?void 0:c.token)}}).then((function(e){var t=e.data;a.setState({results:t})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.selectUser=function(e){a.setState({results:[]}),a.props.setUser(e)},a.handleInputChange=function(){a.setState({query:a.search.value},(function(){a.state.query&&a.state.query.length>3?a.state.query.length%2===0&&a.getInfo():a.state.query}))},a.state={query:a.props.value,results:[]},a}return Object(B.a)(c,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"AutosuggestInput__container",children:[Object(p.jsx)("input",{className:"form-control",placeholder:"Email or Phone number",ref:function(t){return e.search=t},onChange:function(){return e.handleInputChange()}}),Object(p.jsx)("ul",{className:"AutosuggestInput",children:Object(p.jsx)(E.VelocityTransitionGroup,{enter:{animation:"slideDown",duration:250,delay:300},leave:{animation:"slideUp",duration:250},children:this.state.results.map((function(t){return Object(p.jsxs)("li",{onClick:function(){return e.selectUser(t)},children:[Object(p.jsxs)("b",{children:[t.first_name," ",t.last_name]})," ",Object(p.jsx)("br",{})," ",t.email]},t.id)}))})})]})}}]),c}(n.a.Component);function Q(e){var t=e.operation,c=e.setTransactionUser;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)(w,{})}),Object(p.jsxs)("div",{className:"col-12 mt-5 mobile_col title d-flex justify-content-between",children:[t," Payment"]})]})}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsxs)("div",{className:"form-outline mb-3",children:[Object(p.jsx)("label",{className:"form-label",children:" Search User by Email or Phone number "}),Object(p.jsx)(X,{setUser:c})]})}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsx)("br",{})})]})})}function K(e){var t=e.userName,c=e.backStep,n=e.operation,s=e.setTransactionAmount,i=Object(a.useState)(""),l=Object(r.a)(i,2),j=l[0],b=l[1],d=function(e){if("X"===e||"x"===e||""===e||"Backspace"===e)b(j.slice(0,-1));else if("."===e)j.includes(".")||b(j+".");else if(" "!==e&&!isNaN(e)){var t=j.split(".");1!==t.length?t[1].length<=1&&b(j+e):b(j+e)}};return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6",children:c?Object(p.jsx)("button",{className:"link",onClick:c,children:Object(p.jsx)(g.a,{size:"lg",icon:y.d})}):Object(p.jsx)(o.b,{to:"/",children:Object(p.jsx)(g.a,{size:"lg",icon:y.d})})}),Object(p.jsxs)("div",{className:"col-6 mt-5 mobile_col title d-flex justify-content-between",children:[Object(p.jsx)("span",{children:" Select Amount "}),Object(p.jsxs)("small",{children:[" ",t," "]})]})]})}),Object(p.jsx)("div",{className:"col-12 mobile_col calculator",children:Object(p.jsx)("div",{className:"form-outline mb-3",children:Object(p.jsx)("input",{type:"text",className:"form-control",value:j,onKeyUp:function(e){return d(e.key)}})})}),Object(p.jsxs)("div",{className:"col-12 mobile_col calculator",children:[Object(p.jsx)("div",{className:"button",onClick:function(){return d("1")},children:"1"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("2")},children:"2"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("3")},children:"3"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("4")},children:"4"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("5")},children:"5"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("6")},children:"6"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("7")},children:"7"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("8")},children:"8"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("9")},children:"9"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d(".")},children:"."}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("0")},children:"0"}),Object(p.jsx)("div",{className:"button",onClick:function(){return d("X")},children:Object(p.jsx)(g.a,{size:"lg",icon:y.a})})]}),Object(p.jsx)("div",{className:"col-12 mobile_col ",children:Object(p.jsxs)("button",{className:"btn btn-primary w-100 mb-3",onClick:function(){s(j)},children:[n," payment"]})})]})})}function M(e){var t=e.handleAuthorization,c=e.backStep,n=Object(a.useState)(),s=Object(r.a)(n,2),i=s[0],l=s[1];return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6",children:c?Object(p.jsx)("button",{className:"link",onClick:c,children:Object(p.jsx)(g.a,{size:"lg",icon:y.d})}):Object(p.jsx)(o.b,{to:"/",children:Object(p.jsx)(g.a,{size:"lg",icon:y.d})})}),Object(p.jsx)("div",{className:"col-6 mt-5 mobile_col title d-flex justify-content-between",children:Object(p.jsx)("span",{children:" Authorize the transaction"})})]})}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsxs)("div",{className:"form-outline mb-3",children:[Object(p.jsx)("label",{children:" Insert the authorization code"}),Object(p.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return l(e.target.value)}})]})}),Object(p.jsx)("div",{className:"col-12 mobile_col ",children:Object(p.jsx)("button",{className:"btn btn-primary w-100 mb-3",onClick:function(){t("deutschebank",i)},backStep:!0,children:"Authorize transaction"})})]})})}function Y(e){var t,c,n,s,i,o,j,d,u,m,h=e.data,O=e.handlePayment,x=Object(l.h)().transactionID,A=JSON.parse(localStorage.getItem("user")).token,f=Object(a.useState)(null!==(t=JSON.parse(localStorage.getItem("user")).user)&&void 0!==t?t:{}),v=Object(r.a)(f,2),N=v[0],g=v[1],y=Object(a.useState)(null!==(c=JSON.parse(localStorage.getItem("BankAccounts")).find((function(e){return"true"===e.primary})))&&void 0!==c?c:{}),k=Object(r.a)(y,2),S=k[0],C=k[1],T=Object(a.useState)(null!==(n=h.user)&&void 0!==n?n:{}),B=Object(r.a)(T,2),I=B[0],_=B[1],E=Object(a.useState)(h.user.bankAccounts?h.user.bankAccounts.find((function(e){return"true"===e.primary})):{}),P=Object(r.a)(E,2),V=P[0],D=P[1],q=Object(a.useState)(null!==(s=h.amount)&&void 0!==s?s:0),U=Object(r.a)(q,2),L=U[0],z=U[1];return Object(a.useEffect)((function(){x&&b.a.post("https://payme-back.glitch.me/get-transaction/",{type:x&&"Payment",transaction:x&&x},{headers:{Authorization:"Bearer ".concat(A)}}).then((function(e){var t,c;g(e.data.sender),C(null!==(t=e.data.sender.bankAccounts.find((function(e){return"true"===e.primary})))&&void 0!==t?t:{}),_(e.data.receiver),D(null!==(c=e.data.receiver.bankAccounts.find((function(e){return"true"===e.primary})))&&void 0!==c?c:{}),z(e.data.amount)})).catch((function(e){console.error(e.response)}))}),[]),Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)(w,{})}),Object(p.jsx)("div",{className:"col-12 mt-5 mobile_col title d-flex justify-content-between",children:"Confirm Payment"})]})}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsxs)("div",{className:"form-outline mb-3",children:[Object(p.jsx)("b",{children:"From User:"})," ",null!==(i=N.first_name)&&void 0!==i?i:null," ",null!==(o=N.last_name)&&void 0!==o?o:null," ",Object(p.jsx)("br",{}),Object(p.jsx)("b",{children:"Account:"})," ",null!==(j=S.alias)&&void 0!==j?j:null," ",Object(p.jsx)("br",{}),Object(p.jsx)("b",{children:"IBAN:"})," ",null!==(d=S.iban)&&void 0!==d?d:null," ",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("b",{children:"To User:"})," ",I.first_name," ",I.last_name," ",Object(p.jsx)("br",{}),Object(p.jsx)("b",{children:"Account:"})," ",null!==(u=V.alias)&&void 0!==u?u:null," ",Object(p.jsx)("br",{}),Object(p.jsx)("b",{children:"IBAN:"})," ",null!==(m=V.iban)&&void 0!==m?m:null," ",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("b",{children:"Amount:"})," ",L,"\u20ac ",Object(p.jsx)("br",{})]})}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsx)("button",{className:"btn btn-primary w-100 mb-3",onClick:function(){return O(L)},children:"Confirm payment"})})]})})}function Z(e){var t=e.error,c=e.tryAgain;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("br",{})}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("h1",{className:"validation__error mb-5",children:"E_ROW_NOT_FOUND"===t?"This item was not found":"E_ROW_SAME_USER"===t||"E_SAME_USER"===t?"You can't send a transaction or request to yourself":"E_TRANSACTION_PAID"===t?"This transaction has been already paid":"E_TRANSACTION_CANCELLED"===t?"This transaction was cancelled":"E_SENDER_NO_BANK_ACCOUNT"===t?"Sender has no a connected bank account":"E_RECEIVER_NO_BANK_ACCOUNT"===t?"Receiver has no a connected bank account":"E_INSUFFICIENT_FUNDS"===t?"Insufficient funds to make this transaction":"E_USER_WRONG_TRANSACTION_ID"===t?"You have no access to this transaction":t})}),Object(p.jsxs)("div",{className:"col-12 mobile_col text-center",children:[Object(p.jsx)(o.b,{className:"btn btn-outline-primary w-100 mt-5",to:"/",children:"Go to Main Menu"}),c&&Object(p.jsx)("button",{className:"btn btn-outline-primary w-100 mt-5",onClick:function(){return c()},children:"Try Again"})]})]})})}function W(e){var t=e.operation,c=e.data,a=e.account;return Object(p.jsxs)("div",{className:"container container-transparent",children:[!a&&Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsxs)("h1",{children:[" ",c.amount," ",t," to ",c.userName]})}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("img",{src:c.profile_picture,alt:"profile_picture",style:{height:160,borderRadius:"100%"}})}),c.id&&Object(p.jsxs)("div",{className:"col-12 mobile_col text-center",style:{cursor:"pointer"},onClick:function(){navigator.clipboard.writeText("".concat("https://payme-ui.glitch.me/","request/").concat(c.id))},children:[Object(p.jsxs)("p",{children:[" Share with ",c.userName," the link or QR code "]}),Object(p.jsxs)("p",{children:[" ",Object(p.jsxs)("b",{children:[" ","".concat("https://payme-ui.glitch.me/","request/").concat(c.id)," "]})," "]}),Object(p.jsx)(z.a,{value:"".concat("https://payme-ui.glitch.me/","request/").concat(c.id)})]}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)(o.b,{className:"btn btn-light w-100 mb-3",to:"/",children:"Main Menu"})})]}),a&&Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsxs)("h1",{children:[" ",a]})}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)(o.b,{className:"btn btn-light w-100 mb-3",to:"/",children:"Main Menu"})})]})]})}function H(e){var t,c=e.transactionType,n=Object(l.h)(),s=n.transactionID,i=n.userSlug,o=Object(a.useState)(null),j=Object(r.a)(o,2),d=j[0],u=j[1],m=Object(a.useState)(0),h=Object(r.a)(m,2),O=h[0],x=h[1],A=Object(a.useState)(),f=Object(r.a)(A,2),v=f[0],N=f[1],g=Object(a.useState)(),y=Object(r.a)(g,2),w=y[0],k=y[1],S=Object(a.useState)(""),C=Object(r.a)(S,2),T=C[0],B=C[1],I=Object(a.useState)({userName:"",amount:"",profile_picture:""}),_=Object(r.a)(I,2),P=_[0],V=_[1],D=null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.token,q=function(){d>1&&u(d-1)},U=function(e){V({userName:"".concat(e.first_name," ").concat(e.last_name),profile_picture:e.profile_picture,amount:"".concat(e.amount,"\u20ac")})},L=function(e){u(null),b.a.post("https://payme-back.glitch.me/oauth-transactions/",{type:c,transaction:s&&s,counterParty:i||O.id,amount:e},{headers:{Authorization:"Bearer ".concat(D)}}).then((function(e){"payme"===e.data.bank?(U(e.data),u(!0)):"deutschebank"===e.data.bank?(k(e.data.id),u(4)):"rabobank"===e.data.bank?(window.open(e.data.url,"_blank"),U(e.data),u(!0)):"neonomics"===e.data.bank?window.location.href=e.data.url:(U(e.data),u(!0))})).catch((function(e){var t;k(void 0),B(null!==(t=e.response.data.code)&&void 0!==t?t:e.response.data.message),u(!1)}))};return Object(a.useEffect)((function(){return function(){switch(c){case"Send":case"Request":u(1);break;case"User":b.a.get("https://payme-back.glitch.me/users/"+i,{headers:{Authorization:"Bearer ".concat(D)}}).then((function(e){var t=e.data;x(t),u(2)})).catch((function(e){B(e.response.data.code),u(!1)}));break;case"Payment":u(3);break;default:u(1)}}()}),[]),Object(p.jsx)("div",{children:Object(p.jsxs)(E.VelocityTransitionGroup,{enter:{animation:!1===d||null===d||!0===d?"fadeIn":"slideDown",duration:500,delay:600},leave:{animation:"slideUp",duration:500},children:[!1===d&&Object(p.jsx)(Z,{error:T,tryAgain:function(){u(null),L(v)}}),null===d&&Object(p.jsx)(J,{}),!0===d&&Object(p.jsx)(W,{operation:"Request"===c?"requested":"sent",data:P}),1===d&&Object(p.jsx)(Q,{operation:"Request"===c?"Request":"Send",setTransactionUser:function(e){x(e),u(2)}}),2===d&&Object(p.jsx)(K,{operation:"Request"===c?"Request":"Send",setTransactionAmount:function(e){N(parseFloat(e)),u(3)},userName:"".concat(O.first_name," ").concat(O.last_name),backStep:q}),3===d&&Object(p.jsx)(Y,{data:{user:O,amount:v},handlePayment:L,backStep:q}),4===d&&Object(p.jsx)(M,{handleAuthorization:function(e,t){u(null),"deutschebank"===e&&b.a.post("https://payme-back.glitch.me/oauth-transactions/",{type:c,transaction:s&&s,counterParty:i||O.id,amount:v,otp_auth_id:w,otp_auth_key:t},{headers:{Authorization:"Bearer ".concat(D)}}).then((function(e){"deutschebank"===e.data.bank?(k(void 0),U(e.data)):"rabobank"===e.data.bank||e.data.bank,u(!0)})).catch((function(e){var t;k(void 0),B(null!==(t=e.response.data.code)&&void 0!==t?t:e.response.data.message),u(!1)}))},backStep:q})]})})}function $(){var e,t=Object(l.h)().bank,c=Object(a.useState)(null),n=Object(r.a)(c,2),s=n[0],i=n[1],o=Object(a.useState)(""),j=Object(r.a)(o,2),d=j[0],u=j[1],m=Object(a.useState)({userName:"",amount:"",profile_picture:""}),h=Object(r.a)(m,2),O=h[0],x=h[1],A=null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.token,f=new URLSearchParams(Object(l.g)().search),v=function(){var e=f.get("resource_id");b.a.post("https://payme-back.glitch.me/oauth-transactions-callback/",{bank:t,code:e},{headers:{Authorization:"Bearer ".concat(A)}}).then((function(e){var t;t=e.data,x({userName:"".concat(t.first_name," ").concat(t.last_name),profile_picture:t.profile_picture,amount:"".concat(t.amount,"\u20ac")}),i(!0)})).catch((function(e){var t;u(null!==(t=e.response.data.code)&&void 0!==t?t:e.response.data.message),i(!1)}))};return Object(a.useEffect)((function(){return v()}),[]),Object(p.jsx)("div",{children:Object(p.jsxs)(E.VelocityTransitionGroup,{enter:{animation:!1===s||null===s||!0===s?"fadeIn":"slideDown",duration:500,delay:600},leave:{animation:"slideUp",duration:500},children:[!1===s&&Object(p.jsx)(Z,{error:d}),null===s&&Object(p.jsx)(J,{}),!0===s&&Object(p.jsx)(W,{operation:"sent",data:O})]})})}function ee(e){var t=e.account;return Object(p.jsxs)(o.b,{className:"row",to:"/account/"+t.id,children:[Object(p.jsxs)("div",{className:"col-10 text-left information",children:[Object(p.jsxs)("b",{children:[" ",t.alias," "]})," ",Object(p.jsx)("br",{})," ",Object(p.jsxs)("span",{children:[" ",t.iban,"  "]})]}),Object(p.jsx)("div",{className:"col-2 text-right amount",children:Object(p.jsx)(g.a,{size:"lg",icon:y.e})})]})}function te(e){var t=e.BankAccounts;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)(C,{back:!0,children:" My Accounts "}),Object(p.jsx)("div",{className:"col-12 mobile_col",children:Object(p.jsx)("ul",{className:"account",children:t.map((function(e,t){return Object(p.jsx)(ee,{account:e},t)}))})}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)(o.b,{className:"btn btn-primary w-100 mb-3",to:"/add-account",children:"Add account"})})]})})}function ce(){var e,t,c,n,s,i,o=Object(l.h)().id,j=(Object(l.f)(),Object(a.useState)(1)),d=Object(r.a)(j,2),u=d[0],m=d[1],h=Object(a.useState)(""),O=Object(r.a)(h,2),x=O[0],A=O[1],f=Object(a.useState)(""),v=Object(r.a)(f,2),N=v[0],g=v[1],y=Object(a.useState)({}),w=Object(r.a)(y,2),k=w[0],S=w[1],T=Object(a.useState)(!1),B=Object(r.a)(T,2),I=B[0],_=B[1],P=function(e){var t;b.a.put("https://payme-back.glitch.me/bank_accounts/"+o,e,{headers:{Authorization:"Bearer ".concat(null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.token)}}).then((function(t){e.primary?g("Account updated successfully"):g("Account consent renewed for the next 3 months successfully"),S(t.data),_("true"===t.data.primary),m(2)})).catch((function(e){A(e.response.data.code),m(-1)}))};return Object(a.useEffect)((function(){return function(){var e;b.a.get("https://payme-back.glitch.me/bank_accounts/"+o,{headers:{Authorization:"Bearer ".concat(null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.token)}}).then((function(e){m(0),S(e.data),_("true"===e.data.primary)})).catch((function(e){A(e.response.data.code),m(-1)}))}()}),[]),k.updated_at&&(e=new Date(k.updated_at),t=Intl.DateTimeFormat("en",{year:"numeric"}).format(e),c=Intl.DateTimeFormat("en",{month:"short"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e),s="".concat(n,"-").concat(c,"-").concat(t)),k.expires_at&&(e=new Date(k.expires_at),t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),c=new Intl.DateTimeFormat("en",{month:"short"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e),i="".concat(n,"-").concat(c,"-").concat(t)),Object(p.jsxs)(E.VelocityTransitionGroup,{enter:{animation:"fadeIn",duration:500,delay:600},leave:{animation:"slideUp",duration:500},children:[-1===u&&Object(p.jsx)(Z,{error:x}),0===u&&Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)(C,{back:!0,children:" Account Name "}),Object(p.jsx)("div",{className:"col-12 row mobile_col account",children:Object(p.jsxs)("div",{className:"col-12 text-left information",children:[Object(p.jsx)("b",{children:" Alias "})," ",Object(p.jsx)("br",{})," ",Object(p.jsxs)("small",{children:[" ",k.alias," "]})]})}),Object(p.jsx)("div",{className:"col-12 row mobile_col account",children:Object(p.jsxs)("div",{className:"col-12 text-left information",children:[Object(p.jsx)("b",{children:" IBAN "})," ",Object(p.jsx)("br",{})," ",Object(p.jsxs)("small",{children:[" ",k.iban,"  "]})]})}),Object(p.jsx)("div",{className:"col-12 row mobile_col account",children:Object(p.jsxs)("div",{className:"col-12 text-left information",children:[Object(p.jsx)("b",{children:" Current balance "})," ",Object(p.jsx)("br",{})," ",Object(p.jsxs)("small",{children:[" ",k.balance,"\u20ac  "]})]})}),Object(p.jsx)("div",{className:"col-12 row mobile_col account",children:Object(p.jsxs)("div",{className:"col-12 text-left information",children:[Object(p.jsx)("b",{children:" BIC / Swift "})," ",Object(p.jsx)("br",{})," ",Object(p.jsxs)("small",{children:[" ",k.bic," "]})]})}),Object(p.jsx)("div",{className:"col-12 row mobile_col account",children:Object(p.jsxs)("div",{className:"col-12 text-left information",children:[Object(p.jsx)("b",{children:" Last time renewed "})," ",Object(p.jsx)("br",{})," ",Object(p.jsxs)("small",{children:[" ",k&&s," "]})]})}),Object(p.jsx)("div",{className:"col-12 row mobile_col account",children:Object(p.jsxs)("div",{className:"col-12 text-left information",children:[Object(p.jsx)("b",{children:" Consent expires by "})," ",Object(p.jsx)("br",{})," ",Object(p.jsxs)("small",{children:[" ",k&&i," "]})]})}),Object(p.jsxs)("div",{className:"col-12 row mobile_col account",children:[Object(p.jsxs)("div",{className:"col-8 text-left information",children:[Object(p.jsx)("b",{children:" Set as primary Account "}),Object(p.jsx)("br",{})]}),Object(p.jsx)("div",{className:"col-4 text-left information",children:Object(p.jsxs)("label",{className:"switch",children:[Object(p.jsx)("input",{type:"checkbox",checked:I,onClick:function(){return _(!I),void P({primary:I?"false":"true"})}}),Object(p.jsx)("div",{className:"slide"})]})})]}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("button",{className:"btn btn-outline-primary w-100 mb-3",onClick:function(){return function(){var e;b.a.delete("https://payme-back.glitch.me/bank_accounts/"+o,{headers:{Authorization:"Bearer ".concat(null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.token)}}).then((function(e){g("Account deleted successfully"),m(2)})).catch((function(e){A(e.response.data.code),m(-1)}))}()},children:"Delete account"})})]})}),1===u&&Object(p.jsx)(J,{}),2===u&&Object(p.jsx)(W,{account:N})]})}function ae(){var e=Object(a.useState)(0),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)("client_credentials"),i=Object(r.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(""),d=Object(r.a)(j,2),u=d[0],m=d[1],h=Object(a.useState)(""),O=Object(r.a)(h,2),x=O[0],A=O[1],f=Object(a.useState)("payme"),v=Object(r.a)(f,2),N=v[0],g=v[1],y=Object(a.useState)([]),w=Object(r.a)(y,2),k=w[0],S=w[1],T=function(){var e;n(2);var t=null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.token;if("payme"===N)return b.a.post("https://payme-back.glitch.me/bank_accounts/",{bank:N},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){A("PayME Test Bank Account with \u20ac1000 added successfully"),n(3)})).catch((function(e){console.error(e),m("Check the console"),n(-1)})),!0;b.a.post("https://payme-back.glitch.me/oauth/",{bank:N,code:o},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.warn(e),"auth_url"in e.data?window.location.href=e.data.auth_url:"consent_url"in e.data?window.location.href=e.data.consent_url:"banks"in e.data?(S(e.data.banks),l(JSON.stringify({id:e.data.banks[0].id,name:e.data.banks[0].bankDisplayName})),g("neonomics"),n(1)):(A("Bank Accounts added successfully"),n(3))})).catch((function(e){console.error(e,e.response),m(e.response.data.message),n(-1)}))};return Object(p.jsxs)(E.VelocityTransitionGroup,{enter:{animation:"fadeIn",duration:500,delay:600},leave:{animation:"slideUp",duration:500},children:[-1===c&&Object(p.jsx)(Z,{error:u}),0===c&&Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)(C,{back:!0,children:" Add Account "}),Object(p.jsxs)("div",{className:"col-12 mobile_col",children:[Object(p.jsx)("label",{className:"form-label",children:"Select Bank"}),Object(p.jsxs)("select",{className:"form-control",value:N,onChange:function(e){return g(e.target.value)},children:[Object(p.jsx)("option",{value:"payme",selected:!0,children:" PayMe Test Bank "}),Object(p.jsx)("option",{value:"deutschebank",children:" Deutschebank "}),Object(p.jsx)("option",{value:"rabobank",children:" Rabobank "}),Object(p.jsx)("option",{value:"neonomics",children:" Neonomics "}),Object(p.jsx)("option",{value:"klarna",disabled:!0,children:" Klarna "})]})]}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("button",{className:"btn btn-primary w-100 mb-3",onClick:T,children:"Submit"})})]})}),1===c&&Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)(C,{back:!0,children:" Add Account "}),Object(p.jsxs)("div",{className:"col-12 mobile_col",children:[Object(p.jsx)("label",{className:"form-label",children:"Select Bank"}),Object(p.jsx)("select",{className:"form-control",value:o.name,onChange:function(e){return l(e.target.value)},children:k.map((function(e){return"AVAILABLE"===e.status&&"OP"!=e.bankDisplayName&&"Storebrand"!=e.bankDisplayName&&Object(p.jsxs)("option",{value:JSON.stringify({id:e.id,name:e.bankDisplayName}),children:[e.bankDisplayName," "]})}))})]}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("button",{className:"btn btn-primary w-100 mb-3",onClick:T,children:"Submit"})})]})}),2===c&&Object(p.jsx)(J,{}),3===c&&Object(p.jsx)(W,{account:x})]})}function ne(){var e=Object(l.h)().bank,t=Object(a.useState)(1),c=Object(r.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(""),o=Object(r.a)(i,2),j=o[0],d=o[1],u=Object(a.useState)(""),m=Object(r.a)(u,2),h=m[0],O=m[1],x=new URLSearchParams(Object(l.g)().search);return Object(a.useEffect)((function(){return function(){var t,c=null===(t=JSON.parse(localStorage.getItem("user")))||void 0===t?void 0:t.token,a=x.get("code");x.get("code")?setTimeout((function(){b.a.post("https://payme-back.glitch.me/oauth-bank/",{code:a,bank:e},{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e),O("Bank Accounts added successfully"),s(2)})).catch((function(e){console.error(e,e.response),d(e.response.data.message),s(-1)}))}),1e3):(d("No Code was received"),s(-1))}()}),[]),Object(p.jsxs)(E.VelocityTransitionGroup,{enter:{animation:"fadeIn",duration:500,delay:600},leave:{animation:"slideUp",duration:500},children:[-1===n&&Object(p.jsx)(Z,{error:j}),0===n&&Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)(C,{back:!0,children:" Add Account. "}),Object(p.jsx)("div",{className:"col-12 mobile_col"}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("button",{className:"btn btn-primary w-100 mb-3",children:"Submit"})})]})}),1===n&&Object(p.jsx)(J,{}),2===n&&Object(p.jsx)(W,{account:h}),3===n&&Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row mobile_row",children:[Object(p.jsx)(C,{back:!0,children:" Add Account. "}),Object(p.jsx)("div",{className:"col-12 mobile_col"}),Object(p.jsx)("div",{className:"col-12 mobile_col text-center",children:Object(p.jsx)("button",{className:"btn btn-primary w-100 mb-3",children:"Submit"})})]})})]})}var se=c(302),ie=c(301);function re(){return Object(p.jsx)(o.a,{children:Object(p.jsx)(l.c,{children:Object(p.jsx)(l.a,{path:"*",children:Object(p.jsx)(oe,{})})})})}function oe(){var e,t=function(){return JSON.parse(localStorage.getItem("user"))},c=JSON.parse(localStorage.getItem("BankAccounts")),n=JSON.parse(localStorage.getItem("Transactions")),s=JSON.parse(localStorage.getItem("Notifications")),i=Object(a.useState)(null===(e=t())||void 0===e?void 0:e.user),o=Object(r.a)(i,2),j=o[0],d=o[1],u=Object(a.useState)(c||[]),m=Object(r.a)(u,2),h=m[0],O=m[1],x=Object(a.useState)(n||[]),f=Object(r.a)(x,2),v=f[0],N=f[1],g=Object(a.useState)(s||[]),y=Object(r.a)(g,2),w=y[0],k=y[1],S=function(e){e.date=Date.now(),localStorage.setItem("user",JSON.stringify(e)),d(e.user),B(),T(),_.replace("/")},C=function(){var e;b.a.get("https://payme-back.glitch.me/logout",{headers:{Authorization:"Bearer ".concat(null===(e=t())||void 0===e?void 0:e.token)}}).then((function(e){e.data;d(void 0),localStorage.clear("user"),localStorage.clear("BankAccounts"),localStorage.clear("Transactions"),localStorage.clear("Notifications"),_.replace("/")}))},T=function(){var e,c,a,n,s;(null===(e=t())||void 0===e?void 0:e.token)?(b.a.get("https://payme-back.glitch.me/auth/",{headers:{Authorization:"Bearer ".concat(null===(c=t())||void 0===c?void 0:c.token)}}).then((function(e){var c,a={token:null===(c=t())||void 0===c?void 0:c.token,user:e.data,date:Date.now()};localStorage.setItem("user",JSON.stringify(a)),d(a.user)})).catch((function(e){console.error(e.response.data),401===e.response.status&&(d(null),localStorage.clear("user"),localStorage.clear("BankAccounts"),localStorage.clear("Transactions"),localStorage.clear("Notifications"),_.replace("/login"))})),b.a.get("https://payme-back.glitch.me/fetch-banks/",{headers:{Authorization:"Bearer ".concat(null===(a=t())||void 0===a?void 0:a.token)}}).then((function(e){var t;O(null!==(t=e.data)&&void 0!==t?t:[]),localStorage.setItem("BankAccounts",JSON.stringify(e.data))})).catch((function(e){console.warn(e.response)})),b.a.get("https://payme-back.glitch.me/fetch-transactions/",{headers:{Authorization:"Bearer ".concat(null===(n=t())||void 0===n?void 0:n.token)}}).then((function(e){var t;N(null!==(t=e.data)&&void 0!==t?t:[]),localStorage.setItem("Transactions",JSON.stringify(e.data))})).catch((function(e){console.warn(e.response)})),b.a.get("https://payme-back.glitch.me/fetch-notifications/",{headers:{Authorization:"Bearer ".concat(null===(s=t())||void 0===s?void 0:s.token)}}).then((function(e){var t;k(null!==(t=e.data)&&void 0!==t?t:[]),localStorage.setItem("Notifications",JSON.stringify(e.data))})).catch((function(e){console.warn(e.response)}))):C()},B=function(){var e,c;(null===(e=t())||void 0===e?void 0:e.token)&&b.a.get("https://payme-back.glitch.me/refresh-tokens",{headers:{Authorization:"Bearer ".concat(null===(c=t())||void 0===c?void 0:c.token)}}).then((function(e){e.data;console.log("Refreshed tokens")}))},I=Object(l.g)(),_=Object(l.f)();return Object(a.useEffect)((function(){"/"===I.pathname&&T(),"/send-payment"!==I.pathname&&"/request-payment"!==I.pathname&&"/user/:userSlug"!==I.pathname&&"/request/:transactionID"!==I.pathname||B();var e=setInterval((function(){T()}),6e4),t=setInterval((function(){B()}),3e5);return function(){clearInterval(e),clearInterval(t)}}),[I.pathname]),j?Object(p.jsx)(se.a,{children:Object(p.jsx)(ie.a,{classNames:"fade",timeout:300,children:Object(p.jsxs)(l.c,{location:I,children:[Object(p.jsx)(l.a,{path:"/send-payment",children:Object(p.jsx)(H,{transactionType:"Send"})}),Object(p.jsx)(l.a,{path:"/request-payment",children:Object(p.jsx)(H,{transactionType:"Request"})}),Object(p.jsx)(l.a,{path:"/user/:userSlug",children:Object(p.jsx)(H,{transactionType:"User"})}),Object(p.jsx)(l.a,{path:"/request/:transactionID",children:Object(p.jsx)(H,{transactionType:"Payment"})}),Object(p.jsx)(l.a,{path:"/complete-payment/:bank",children:Object(p.jsx)($,{})}),Object(p.jsx)(l.a,{path:"/notifications",children:Object(p.jsx)(G,{Notifications:w})}),Object(p.jsx)(l.a,{path:"/settings",children:Object(p.jsx)(R,{logout:C,user:j})}),Object(p.jsx)(l.a,{path:"/accounts",children:Object(p.jsx)(te,{user:j,BankAccounts:h})}),Object(p.jsx)(l.a,{path:"/account/:id",children:Object(p.jsx)(ce,{})}),Object(p.jsx)(l.a,{path:"/add-account/:bank",children:Object(p.jsx)(ne,{})}),Object(p.jsx)(l.a,{path:"/add-account",children:Object(p.jsx)(ae,{})}),Object(p.jsx)(l.a,{path:"/",children:Object(p.jsx)(U,{user:j,BankAccounts:h,Transactions:v,Notifications:w,triggerRefresh:function(){return T()}})})]})},I.key)}):Object(p.jsx)(se.a,{children:Object(p.jsx)(ie.a,{classNames:"fade",timeout:300,children:Object(p.jsxs)(l.c,{location:I,children:[Object(p.jsx)(l.a,{path:"/login",children:Object(p.jsx)(V,{setToken:S})}),Object(p.jsx)(l.a,{path:"/register",children:Object(p.jsx)(D,{setToken:S})}),Object(p.jsx)(l.a,{path:"/",children:Object(p.jsx)(A,{})})]})},I.key)})}c(297),c(298);i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(re,{})}),document.getElementById("root"))}},[[299,1,2]]]);
//# sourceMappingURL=main.62bb4ce9.chunk.js.map